<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="منصة احترافية للاستيراد المجمع والنشر على المنصات الاجتماعية">
    <meta name="keywords" content="استيراد, نشر, منصات اجتماعية, فيسبوك, انستغرام, تويتر">
    <meta name="author" content="SocialHub Pro Team">
    <meta name="robots" content="index, follow">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="theme-color" content="#1a365d">
    
    <title>SocialHub Pro - منصة الاستيراد المجمع الاحترافية</title>

    <!-- خطوط Google -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- أيقونات Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* المتغيرات الأساسية */
        :root {
            /* الألوان الأساسية */
            --primary-color: #1a365d;
            --primary-dark: #0f2040;
            --primary-light: #2a4a7a;
            --secondary-color: #2d3748;
            --accent-color: #3182ce;
            --accent-light: #4299e1;
            --success-color: #38a169;
            --warning-color: #d69e2e;
            --error-color: #e53e3e;
            --info-color: #3182ce;
            
            /* ألوان الخلفية والنص */
            --background-color: #f7fafc;
            --surface-color: #ffffff;
            --text-primary: #1a202c;
            --text-secondary: #4a5568;
            --text-muted: #718096;
            --border-color: #e2e8f0;
            --border-hover: #cbd5e0;
            
            /* الظلال */
            --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            
            /* الخطوط */
            --font-family: 'Noto Sans Arabic', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            --font-size-xs: 0.75rem;
            --font-size-sm: 0.875rem;
            --font-size-base: 1rem;
            --font-size-lg: 1.125rem;
            --font-size-xl: 1.25rem;
            --font-size-2xl: 1.5rem;
            --font-size-3xl: 1.875rem;
            --font-size-4xl: 2.25rem;
            
            /* المسافات */
            --spacing-1: 0.25rem;
            --spacing-2: 0.5rem;
            --spacing-3: 0.75rem;
            --spacing-4: 1rem;
            --spacing-5: 1.25rem;
            --spacing-6: 1.5rem;
            --spacing-8: 2rem;
            --spacing-10: 2.5rem;
            --spacing-12: 3rem;
            --spacing-16: 4rem;
            
            /* الزوايا */
            --radius-sm: 0.25rem;
            --radius-md: 0.375rem;
            --radius-lg: 0.5rem;
            --radius-xl: 0.75rem;
            
            /* التحويلات والحركات */
            --transition-fast: 150ms ease;
            --transition-normal: 200ms ease;
            --transition-slow: 300ms ease;
        }

        /* إعادة تعيين العناصر الأساسية */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            font-size: 16px;
            line-height: 1.5;
            -webkit-text-size-adjust: 100%;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        body {
            font-family: var(--font-family);
            background-color: var(--background-color);
            color: var(--text-primary);
            direction: rtl;
            text-align: right;
            overflow-x: hidden;
        }

        /* الروابط */
        a {
            color: var(--accent-color);
            text-decoration: none;
            transition: color var(--transition-normal);
        }

        a:hover {
            color: var(--accent-light);
        }

        /* العناوين */
        h1, h2, h3, h4, h5, h6 {
            font-weight: 600;
            line-height: 1.25;
            margin-bottom: var(--spacing-4);
        }

        h1 { font-size: var(--font-size-4xl); }
        h2 { font-size: var(--font-size-3xl); }
        h3 { font-size: var(--font-size-2xl); }
        h4 { font-size: var(--font-size-xl); }
        h5 { font-size: var(--font-size-lg); }
        h6 { font-size: var(--font-size-base); }

        /* النصوص */
        p {
            margin-bottom: var(--spacing-4);
        }

        /* الأزرار */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--spacing-2);
            padding: var(--spacing-3) var(--spacing-5);
            border: 1px solid transparent;
            border-radius: var(--radius-md);
            font-size: var(--font-size-base);
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition-normal);
            line-height: 1.5;
        }

        .btn:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.5);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-primary:hover:not(:disabled) {
            background-color: var(--primary-dark);
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .btn-secondary {
            background-color: var(--secondary-color);
            color: white;
        }

        .btn-secondary:hover:not(:disabled) {
            background-color: #2d3748;
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .btn-success {
            background-color: var(--success-color);
            color: white;
        }

        .btn-success:hover:not(:disabled) {
            background-color: #2f855a;
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .btn-danger {
            background-color: var(--error-color);
            color: white;
        }

        .btn-danger:hover:not(:disabled) {
            background-color: #c53030;
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .btn-outline {
            background-color: transparent;
            border-color: var(--border-color);
            color: var(--text-primary);
        }

        .btn-outline:hover:not(:disabled) {
            background-color: var(--background-color);
            border-color: var(--border-hover);
        }

        .btn-text {
            background-color: transparent;
            color: var(--accent-color);
            padding: var(--spacing-2) var(--spacing-3);
        }

        .btn-text:hover:not(:disabled) {
            background-color: rgba(66, 153, 225, 0.1);
        }

        /* شاشة التحميل */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity var(--transition-slow);
        }

        .loading-screen.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .loading-logo {
            width: 120px;
            height: 120px;
            margin-bottom: var(--spacing-6);
            animation: pulse 2s infinite;
        }

        .loading-text {
            color: white;
            font-size: var(--font-size-lg);
            font-weight: 600;
            margin-bottom: var(--spacing-4);
        }

        .loading-progress {
            width: 200px;
            height: 4px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: var(--radius-sm);
            overflow: hidden;
        }

        .loading-progress-bar {
            height: 100%;
            background: white;
            border-radius: var(--radius-sm);
            animation: loading 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.8; }
        }

        @keyframes loading {
            0% { width: 0%; }
            100% { width: 100%; }
        }

        /* شاشة المصادقة */
        .auth-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--background-color);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 9998;
        }

        .auth-screen.active {
            display: flex;
        }

        .auth-container {
            background: var(--surface-color);
            padding: var(--spacing-12);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-xl);
            width: 100%;
            max-width: 400px;
            text-align: center;
        }

        .auth-logo {
            width: 80px;
            height: 80px;
            margin: 0 auto var(--spacing-6);
        }

        .auth-title {
            font-size: var(--font-size-2xl);
            font-weight: 700;
            margin-bottom: var(--spacing-2);
        }

        .auth-subtitle {
            color: var(--text-secondary);
            margin-bottom: var(--spacing-8);
        }

        .auth-button {
            width: 100%;
            padding: var(--spacing-4);
            border: none;
            border-radius: var(--radius-lg);
            font-size: var(--font-size-base);
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-normal);
            margin-bottom: var(--spacing-3);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--spacing-3);
        }

        .auth-button:hover {
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .auth-button.google {
            background: #4285f4;
            color: white;
        }

        .auth-button.facebook {
            background: #1877f2;
            color: white;
        }

        .auth-button.twitter {
            background: #1da1f2;
            color: white;
        }

        /* التطبيق الرئيسي */
        .main-app {
            display: flex;
            min-height: 100vh;
        }

        .main-app.hidden {
            display: none;
        }

        /* الشريط الجانبي */
        .sidebar {
            width: 280px;
            background: var(--surface-color);
            border-left: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            height: 100vh;
            position: fixed;
            top: 0;
            right: 0;
            z-index: 100;
            transition: transform var(--transition-normal);
        }

        .sidebar-header {
            padding: var(--spacing-4);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: var(--spacing-3);
        }

        .sidebar-toggle {
            background: none;
            border: none;
            cursor: pointer;
            color: var(--text-secondary);
            padding: var(--spacing-2);
            border-radius: var(--radius-md);
        }

        .sidebar-toggle:hover {
            background-color: var(--background-color);
            color: var(--text-primary);
        }

        .sidebar-brand {
            display: flex;
            align-items: center;
            gap: var(--spacing-3);
        }

        .brand-logo {
            color: var(--primary-color);
        }

        .brand-text {
            font-weight: 700;
            font-size: var(--font-size-lg);
            color: var(--text-primary);
        }

        .sidebar-user {
            padding: var(--spacing-6) var(--spacing-4);
            display: flex;
            align-items: center;
            gap: var(--spacing-4);
            border-bottom: 1px solid var(--border-color);
        }

        .user-avatar {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            object-fit: cover;
        }

        .user-info {
            flex: 1;
        }

        .user-name {
            font-weight: 600;
            color: var(--text-primary);
        }

        .user-email {
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
        }

        .sidebar-stats {
            padding: var(--spacing-4);
            border-bottom: 1px solid var(--border-color);
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--spacing-4);
        }

        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .stat-label {
            font-size: var(--font-size-xs);
            color: var(--text-secondary);
            margin-bottom: var(--spacing-1);
        }

        .stat-value {
            font-weight: 700;
            font-size: var(--font-size-lg);
            color: var(--text-primary);
        }

        .sidebar-nav {
            flex: 1;
            padding: var(--spacing-4) 0;
            overflow-y: auto;
        }

        .nav-item {
            margin-bottom: var(--spacing-1);
        }

        .nav-link {
            width: 100%;
            background: none;
            border: none;
            padding: var(--spacing-3) var(--spacing-4);
            display: flex;
            align-items: center;
            gap: var(--spacing-3);
            cursor: pointer;
            color: var(--text-secondary);
            transition: all var(--transition-normal);
            border-radius: 0 var(--radius-md) var(--radius-md) 0;
            text-align: right;
        }

        .nav-link:hover {
            background-color: var(--background-color);
            color: var(--text-primary);
        }

        .nav-link.active {
            background-color: var(--primary-color);
            color: white;
        }

        .nav-icon {
            width: 20px;
            height: 20px;
            flex-shrink: 0;
        }

        .nav-text {
            flex: 1;
        }

        .nav-badge {
            background-color: var(--accent-color);
            color: white;
            font-size: var(--font-size-xs);
            padding: 2px 6px;
            border-radius: var(--radius-sm);
        }

        .sidebar-footer {
            padding: var(--spacing-4);
            border-top: 1px solid var(--border-color);
        }

        .sidebar-actions {
            display: flex;
            justify-content: space-around;
            margin-bottom: var(--spacing-4);
        }

        .sidebar-action {
            background: none;
            border: none;
            cursor: pointer;
            color: var(--text-secondary);
            padding: var(--spacing-2);
            border-radius: var(--radius-md);
        }

        .sidebar-action:hover {
            background-color: var(--background-color);
            color: var(--text-primary);
        }

        .sidebar-storage {
            background-color: var(--background-color);
            padding: var(--spacing-3);
            border-radius: var(--radius-md);
        }

        .storage-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: var(--spacing-2);
        }

        .storage-label {
            font-size: var(--font-size-xs);
            color: var(--text-secondary);
        }

        .storage-value {
            font-size: var(--font-size-xs);
            font-weight: 600;
            color: var(--text-primary);
        }

        .storage-bar {
            height: 4px;
            background-color: var(--border-color);
            border-radius: var(--radius-sm);
            overflow: hidden;
        }

        .storage-progress {
            height: 100%;
            background-color: var(--primary-color);
            border-radius: var(--radius-sm);
            transition: width var(--transition-slow);
        }

        /* المحتوى الرئيسي */
        .main-content {
            flex: 1;
            margin-right: 280px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* رأس الموبايل */
        .mobile-header {
            display: none;
            padding: var(--spacing-4);
            background-color: var(--surface-color);
            border-bottom: 1px solid var(--border-color);
            align-items: center;
            justify-content: space-between;
        }

        .mobile-menu-toggle {
            background: none;
            border: none;
            cursor: pointer;
            color: var(--text-secondary);
            padding: var(--spacing-2);
            border-radius: var(--radius-md);
        }

        .mobile-menu-toggle:hover {
            background-color: var(--background-color);
            color: var(--text-primary);
        }

        .mobile-title h1 {
            margin-bottom: 0;
            font-size: var(--font-size-xl);
        }

        .mobile-actions {
            display: flex;
            gap: var(--spacing-2);
        }

        .mobile-action {
            background: none;
            border: none;
            cursor: pointer;
            color: var(--text-secondary);
            padding: var(--spacing-2);
            border-radius: var(--radius-md);
            position: relative;
        }

        .mobile-action:hover {
            background-color: var(--background-color);
            color: var(--text-primary);
        }

        .notification-badge {
            position: absolute;
            top: 0;
            left: 0;
            background-color: var(--error-color);
            color: white;
            font-size: var(--font-size-xs);
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .notification-badge.hidden {
            display: none;
        }

        /* حاوية الصفحة */
        .page-container {
            flex: 1;
            padding: var(--spacing-6);
        }

        .page-content {
            display: none;
        }

        .page-content.active {
            display: block;
        }

        /* رأس الصفحة */
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: var(--spacing-8);
        }

        .page-title-section h1 {
            margin-bottom: var(--spacing-2);
        }

        .page-subtitle {
            color: var(--text-secondary);
        }

        .page-actions {
            display: flex;
            gap: var(--spacing-3);
        }

        /* شبكة الإحصائيات */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--spacing-6);
            margin-bottom: var(--spacing-8);
        }

        .stat-card {
            background-color: var(--surface-color);
            border-radius: var(--radius-lg);
            padding: var(--spacing-6);
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-color);
            transition: transform var(--transition-normal), box-shadow var(--transition-normal);
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .stat-card.primary {
            border-top: 4px solid var(--primary-color);
        }

        .stat-card.success {
            border-top: 4px solid var(--success-color);
        }

        .stat-card.warning {
            border-top: 4px solid var(--warning-color);
        }

        .stat-card.info {
            border-top: 4px solid var(--info-color);
        }

        .stat-content {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: var(--spacing-4);
        }

        .stat-info h3 {
            font-size: var(--font-size-sm);
            font-weight: 500;
            color: var(--text-secondary);
            margin-bottom: var(--spacing-2);
        }

        .stat-number {
            font-size: var(--font-size-3xl);
            font-weight: 700;
            color: var(--text-primary);
        }

        .stat-icon {
            color: var(--text-muted);
            background-color: var(--background-color);
            padding: var(--spacing-2);
            border-radius: var(--radius-md);
        }

        .stat-footer {
            display: flex;
            align-items: center;
            gap: var(--spacing-2);
        }

        .stat-change {
            font-size: var(--font-size-sm);
            font-weight: 600;
        }

        .stat-change.positive {
            color: var(--success-color);
        }

        .stat-change.negative {
            color: var(--error-color);
        }

        .stat-period {
            font-size: var(--font-size-xs);
            color: var(--text-muted);
        }

        /* أقسام لوحة التحكم */
        .dashboard-section {
            background-color: var(--surface-color);
            border-radius: var(--radius-lg);
            padding: var(--spacing-6);
            margin-bottom: var(--spacing-6);
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-color);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-6);
        }

        .section-title {
            font-size: var(--font-size-xl);
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0;
        }

        .section-subtitle {
            color: var(--text-secondary);
            margin-top: var(--spacing-2);
        }

        .section-actions {
            display: flex;
            gap: var(--spacing-3);
        }

        /* قائمة النشاط */
        .activity-container {
            max-height: 400px;
            overflow-y: auto;
        }

        .activity-list {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-4);
        }

        .activity-item {
            display: flex;
            gap: var(--spacing-4);
            padding: var(--spacing-4);
            border-radius: var(--radius-md);
            background-color: var(--background-color);
            border: 1px solid var(--border-color);
        }

        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-md);
            background-color: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            flex-shrink: 0;
        }

        .activity-content {
            flex: 1;
        }

        .activity-title {
            font-weight: 600;
            margin-bottom: var(--spacing-1);
        }

        .activity-description {
            color: var(--text-secondary);
            font-size: var(--font-size-sm);
            margin-bottom: var(--spacing-2);
        }

        .activity-time {
            font-size: var(--font-size-xs);
            color: var(--text-muted);
        }

        /* المنشورات القادمة */
        .upcoming-container {
            max-height: 300px;
            overflow-y: auto;
        }

        .upcoming-list {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-3);
        }

        .upcoming-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-3);
            border-radius: var(--radius-md);
            background-color: var(--background-color);
            border: 1px solid var(--border-color);
        }

        .upcoming-content {
            flex: 1;
        }

        .upcoming-title {
            font-weight: 600;
            margin-bottom: var(--spacing-1);
        }

        .upcoming-platform {
            font-size: var(--font-size-sm);
            color: var(--text-secondary);
            margin-bottom: var(--spacing-1);
        }

        .upcoming-time {
            font-size: var(--font-size-xs);
            color: var(--text-muted);
        }

        .upcoming-actions {
            display: flex;
            gap: var(--spacing-2);
        }

        /* منصات التواصل */
        .platforms-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--spacing-6);
        }

        .platform-card {
            background-color: var(--surface-color);
            border-radius: var(--radius-lg);
            padding: var(--spacing-5);
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-color);
            transition: transform var(--transition-normal), box-shadow var(--transition-normal);
        }

        .platform-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .platform-card.facebook {
            border-top: 4px solid #1877f2;
        }

        .platform-card.instagram {
            border-top: 4px solid #e4405f;
        }

        .platform-card.twitter {
            border-top: 4px solid #1da1f2;
        }

        .platform-card.linkedin {
            border-top: 4px solid #0077b5;
        }

        .platform-card.tiktok {
            border-top: 4px solid #000000;
        }

        .platform-header {
            display: flex;
            align-items: center;
            gap: var(--spacing-3);
            margin-bottom: var(--spacing-4);
        }

        .platform-icon {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: var(--radius-md);
            flex-shrink: 0;
        }

        .platform-card.facebook .platform-icon {
            background-color: rgba(24, 119, 242, 0.1);
            color: #1877f2;
        }

        .platform-card.instagram .platform-icon {
            background-color: rgba(228, 64, 95, 0.1);
            color: #e4405f;
        }

        .platform-card.twitter .platform-icon {
            background-color: rgba(29, 161, 242, 0.1);
            color: #1da1f2;
        }

        .platform-card.linkedin .platform-icon {
            background-color: rgba(0, 119, 181, 0.1);
            color: #0077b5;
        }

        .platform-card.tiktok .platform-icon {
            background-color: rgba(0, 0, 0, 0.1);
            color: #000000;
        }

        .platform-info {
            flex: 1;
        }

        .platform-name {
            font-weight: 600;
            margin-bottom: var(--spacing-1);
        }

        .platform-status {
            font-size: var(--font-size-xs);
            padding: 2px 6px;
            border-radius: var(--radius-sm);
            display: inline-block;
        }

        .platform-status.online {
            background-color: rgba(56, 161, 105, 0.1);
            color: var(--success-color);
        }

        .platform-status.offline {
            background-color: rgba(229, 62, 62, 0.1);
            color: var(--error-color);
        }

        .platform-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-3);
        }

        .platform-stat {
            text-align: center;
        }

        .stat-label {
            font-size: var(--font-size-xs);
            color: var(--text-secondary);
            margin-bottom: var(--spacing-1);
        }

        .stat-value {
            font-weight: 700;
            font-size: var(--font-size-lg);
        }

        /* قسم الاستيراد المجمع */
        .import-stats-bar {
            display: flex;
            gap: var(--spacing-8);
            padding: var(--spacing-4);
            background-color: var(--surface-color);
            border-radius: var(--radius-lg);
            margin-bottom: var(--spacing-6);
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-color);
        }

        .import-stat {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .import-stat-label {
            font-size: var(--font-size-xs);
            color: var(--text-secondary);
            margin-bottom: var(--spacing-1);
        }

        .import-stat-value {
            font-weight: 700;
            font-size: var(--font-size-lg);
            color: var(--text-primary);
        }

        /* رفع الملفات */
        .upload-section {
            margin-bottom: var(--spacing-8);
        }

        .upload-container {
            background-color: var(--surface-color);
            border-radius: var(--radius-lg);
            padding: var(--spacing-6);
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-color);
        }

        .file-drop-zone {
            border: 2px dashed var(--border-color);
            border-radius: var(--radius-lg);
            padding: var(--spacing-10) var(--spacing-6);
            text-align: center;
            cursor: pointer;
            transition: all var(--transition-normal);
            margin-bottom: var(--spacing-4);
        }

        .file-drop-zone:hover {
            border-color: var(--accent-color);
            background-color: rgba(66, 153, 225, 0.05);
        }

        .file-drop-zone.drag-over {
            border-color: var(--accent-color);
            background-color: rgba(66, 153, 225, 0.1);
        }

        .drop-zone-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--spacing-4);
        }

        .upload-icon {
            color: var(--accent-color);
        }

        .upload-title {
            font-size: var(--font-size-xl);
            font-weight: 600;
            color: var(--text-primary);
        }

        .upload-subtitle {
            color: var(--text-secondary);
        }

        .upload-instructions {
            background-color: var(--background-color);
            padding: var(--spacing-4);
            border-radius: var(--radius-md);
            margin-top: var(--spacing-4);
            text-align: right;
        }

        .upload-instructions p {
            margin-bottom: var(--spacing-2);
            font-size: var(--font-size-sm);
        }

        .upload-instructions strong {
            color: var(--text-primary);
        }

        .file-info {
            margin-bottom: var(--spacing-4);
        }

        .file-info-card {
            display: flex;
            align-items: center;
            gap: var(--spacing-4);
            padding: var(--spacing-4);
            background-color: var(--background-color);
            border-radius: var(--radius-md);
            border: 1px solid var(--border-color);
        }

        .file-icon {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .file-icon.csv {
            background-color: rgba(56, 161, 105, 0.1);
            color: var(--success-color);
        }

        .file-icon.json {
            background-color: rgba(66, 153, 225, 0.1);
            color: var(--accent-color);
        }

        .file-details {
            flex: 1;
        }

        .file-name {
            font-weight: 600;
            margin-bottom: var(--spacing-1);
        }

        .file-meta {
            display: flex;
            gap: var(--spacing-3);
        }

        .file-size, .file-type {
            font-size: var(--font-size-xs);
            color: var(--text-secondary);
        }

        .file-actions {
            flex-shrink: 0;
        }

        .clear-file-btn {
            background: none;
            border: none;
            color: var(--error-color);
            cursor: pointer;
            font-size: var(--font-size-sm);
            padding: var(--spacing-1) var(--spacing-2);
        }

        .clear-file-btn:hover {
            background-color: rgba(229, 62, 62, 0.1);
            border-radius: var(--radius-sm);
        }

        .upload-actions {
            display: flex;
            gap: var(--spacing-3);
            justify-content: center;
        }

        /* متطلبات الملف */
        .requirements-section {
            margin-bottom: var(--spacing-8);
        }

        .requirements-content {
            background-color: var(--surface-color);
            border-radius: var(--radius-lg);
            padding: var(--spacing-6);
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-color);
        }

        .requirements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: var(--spacing-6);
        }

        .requirement-item {
            padding: var(--spacing-4);
            background-color: var(--background-color);
            border-radius: var(--radius-md);
            border: 1px solid var(--border-color);
        }

        .requirement-title {
            font-weight: 600;
            margin-bottom: var(--spacing-2);
            color: var(--text-primary);
        }

        .requirement-desc {
            color: var(--text-secondary);
            margin-bottom: var(--spacing-3);
            font-size: var(--font-size-sm);
        }

        .requirement-example {
            background-color: var(--surface-color);
            padding: var(--spacing-3);
            border-radius: var(--radius-sm);
            font-family: monospace;
            font-size: var(--font-size-sm);
            color: var(--text-primary);
            display: block;
            overflow-x: auto;
        }

        /* نماذج الملفات */
        .templates-section {
            margin-bottom: var(--spacing-8);
        }

        .templates-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: var(--spacing-6);
        }

        .template-card {
            display: flex;
            flex-direction: column;
            background-color: var(--surface-color);
            border-radius: var(--radius-lg);
            padding: var(--spacing-6);
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-color);
            transition: transform var(--transition-normal), box-shadow var(--transition-normal);
        }

        .template-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .template-icon {
            width: 48px;
            height: 48px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: var(--spacing-4);
        }

        .template-icon.csv {
            background-color: rgba(56, 161, 105, 0.1);
            color: var(--success-color);
        }

        .template-icon.json {
            background-color: rgba(66, 153, 225, 0.1);
            color: var(--accent-color);
        }

        .template-info {
            flex: 1;
            margin-bottom: var(--spacing-4);
        }

        .template-title {
            font-weight: 600;
            margin-bottom: var(--spacing-2);
            color: var(--text-primary);
        }

        .template-desc {
            color: var(--text-secondary);
            font-size: var(--font-size-sm);
        }

        /* تقدم الاستيراد */
        .progress-section {
            margin-bottom: var(--spacing-8);
        }

        .progress-container {
            background-color: var(--surface-color);
            border-radius: var(--radius-lg);
            padding: var(--spacing-6);
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-color);
        }

        .progress-bar-container {
            margin-bottom: var(--spacing-6);
        }

        .progress-bar {
            height: 8px;
            background-color: var(--border-color);
            border-radius: var(--radius-sm);
            overflow: hidden;
            margin-bottom: var(--spacing-3);
        }

        .progress-fill {
            height: 100%;
            background-color: var(--primary-color);
            border-radius: var(--radius-sm);
            transition: width var(--transition-slow);
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .progress-text {
            font-weight: 600;
            color: var(--text-primary);
        }

        .progress-percent {
            font-weight: 700;
            color: var(--primary-color);
        }

        .progress-steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: var(--spacing-6);
            position: relative;
        }

        .progress-steps::before {
            content: '';
            position: absolute;
            top: 16px;
            right: 0;
            left: 0;
            height: 2px;
            background-color: var(--border-color);
            z-index: 1;
        }

        .progress-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
        }

        .step-indicator {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: var(--spacing-2);
            transition: all var(--transition-normal);
        }

        .progress-step.active .step-indicator {
            background-color: var(--primary-color);
            color: white;
        }

        .progress-step.completed .step-indicator {
            background-color: var(--success-color);
            color: white;
        }

        .step-label {
            font-size: var(--font-size-xs);
            color: var(--text-secondary);
            text-align: center;
        }

        .progress-step.active .step-label {
            color: var(--text-primary);
            font-weight: 600;
        }

        .progress-status {
            text-align: center;
        }

        .status-indicator {
            display: inline-block;
            padding: var(--spacing-2) var(--spacing-4);
            border-radius: var(--radius-md);
            font-weight: 600;
        }

        .status-indicator.processing {
            background-color: rgba(66, 153, 225, 0.1);
            color: var(--accent-color);
        }

        .status-indicator.completed {
            background-color: rgba(56, 161, 105, 0.1);
            color: var(--success-color);
        }

        .status-indicator.failed {
            background-color: rgba(229, 62, 62, 0.1);
            color: var(--error-color);
        }

        /* نتائج الاستيراد */
        .results-section {
            margin-bottom: var(--spacing-8);
        }

        .import-success, .import-error {
            display: flex;
            align-items: center;
            gap: var(--spacing-4);
            padding: var(--spacing-6);
            border-radius: var(--radius-lg);
        }

        .import-success {
            background-color: rgba(56, 161, 105, 0.1);
            border: 1px solid rgba(56, 161, 105, 0.2);
        }

        .import-error {
            background-color: rgba(229, 62, 62, 0.1);
            border: 1px solid rgba(229, 62, 62, 0.2);
        }

        .success-icon, .error-icon {
            font-size: var(--font-size-3xl);
            flex-shrink: 0;
        }

        .success-message h3, .error-message h3 {
            margin-bottom: var(--spacing-3);
        }

        .import-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--spacing-4);
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            display: block;
            font-size: var(--font-size-2xl);
            font-weight: 700;
            margin-bottom: var(--spacing-1);
        }

        .import-success .stat-number {
            color: var(--success-color);
        }

        .import-error .stat-number {
            color: var(--error-color);
        }

        .stat-label {
            font-size: var(--font-size-xs);
            color: var(--text-secondary);
        }

        .error-details {
            margin-top: var(--spacing-3);
        }

        .error-item {
            padding: var(--spacing-2);
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: var(--radius-sm);
            margin-bottom: var(--spacing-2);
            font-size: var(--font-size-sm);
        }

        /* تاريخ الاستيراد */
        .history-section {
            margin-bottom: var(--spacing-8);
        }

        .history-container {
            background-color: var(--surface-color);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-color);
            overflow: hidden;
        }

        .history-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .history-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-4);
            border-bottom: 1px solid var(--border-color);
        }

        .history-item:last-child {
            border-bottom: none;
        }

        .history-info {
            flex: 1;
        }

        .history-filename {
            font-weight: 600;
            margin-bottom: var(--spacing-1);
        }

        .history-date {
            font-size: var(--font-size-xs);
            color: var(--text-secondary);
        }

        .history-stats {
            display: flex;
            gap: var(--spacing-4);
            margin: 0 var(--spacing-4);
        }

        .history-status {
            padding: var(--spacing-1) var(--spacing-3);
            border-radius: var(--radius-sm);
            font-size: var(--font-size-xs);
            font-weight: 600;
        }

        .status-completed {
            background-color: rgba(56, 161, 105, 0.1);
            color: var(--success-color);
        }

        .status-processing {
            background-color: rgba(66, 153, 225, 0.1);
            color: var(--accent-color);
        }

        .status-failed {
            background-color: rgba(229, 62, 62, 0.1);
            color: var(--error-color);
        }

        /* حالات التحميل */
        .loading-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: var(--spacing-12);
            color: var(--text-secondary);
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 3px solid var(--border-color);
            border-top: 3px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: var(--spacing-4);
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* الحالات الفارغة */
        .empty-state {
            text-align: center;
            padding: var(--spacing-8);
            color: var(--text-secondary);
        }

        /* مؤشر عدم الاتصال */
        .offline-indicator {
            position: fixed;
            bottom: var(--spacing-4);
            left: var(--spacing-4);
            background-color: var(--error-color);
            color: white;
            padding: var(--spacing-3) var(--spacing-4);
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-lg);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: var(--spacing-2);
        }

        /* النوافذ المنبثقة */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all var(--transition-normal);
        }

        .modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
        }

        .modal-container {
            background-color: var(--surface-color);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-xl);
            width: 100%;
            max-width: 500px;
            max-height: 90vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            z-index: 2001;
            transform: scale(0.9);
            transition: transform var(--transition-normal);
        }

        .modal.active .modal-container {
            transform: scale(1);
        }

        .modal-container.small {
            max-width: 400px;
        }

        .modal-container.large {
            max-width: 800px;
        }

        .modal-header {
            padding: var(--spacing-5) var(--spacing-6);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .modal-title {
            font-size: var(--font-size-xl);
            font-weight: 600;
            margin-bottom: 0;
        }

        .modal-close {
            background: none;
            border: none;
            cursor: pointer;
            color: var(--text-secondary);
            padding: var(--spacing-1);
            border-radius: var(--radius-md);
        }

        .modal-close:hover {
            background-color: var(--background-color);
            color: var(--text-primary);
        }

        .modal-content {
            padding: var(--spacing-6);
            overflow-y: auto;
            flex: 1;
        }

        .modal-footer {
            padding: var(--spacing-5) var(--spacing-6);
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: flex-end;
            gap: var(--spacing-3);
        }

        /* الإشعارات */
        .toast-container {
            position: fixed;
            top: 20px;
            left: 20px;
            right: 20px;
            z-index: 10000;
            display: flex;
            flex-direction: column;
            align-items: center;
            pointer-events: none;
        }

        .toast {
            background: var(--surface-color);
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-lg);
            padding: var(--spacing-4);
            margin-bottom: var(--spacing-3);
            display: flex;
            align-items: center;
            min-width: 300px;
            max-width: 500px;
            opacity: 0;
            transform: translateY(-20px);
            transition: all var(--transition-normal);
            pointer-events: auto;
        }

        .toast.show {
            opacity: 1;
            transform: translateY(0);
        }

        .toast.hide {
            opacity: 0;
            transform: translateY(-20px);
        }

        .toast-content {
            display: flex;
            align-items: center;
            width: 100%;
        }

        .toast-icon {
            margin-left: var(--spacing-3);
            font-size: var(--font-size-xl);
        }

        .toast-message {
            flex: 1;
            font-size: var(--font-size-sm);
            color: var(--text-primary);
        }

        .toast-close {
            background: none;
            border: none;
            font-size: var(--font-size-lg);
            cursor: pointer;
            color: var(--text-muted);
            padding: 0;
            margin-right: var(--spacing-2);
        }

        .toast-success {
            border-right: 4px solid var(--success-color);
        }

        .toast-error {
            border-right: 4px solid var(--error-color);
        }

        .toast-warning {
            border-right: 4px solid var(--warning-color);
        }

        .toast-info {
            border-right: 4px solid var(--info-color);
        }

        /* التجاوب مع الشاشات المختلفة */
        @media (max-width: 1024px) {
            .sidebar {
                transform: translateX(100%);
                box-shadow: var(--shadow-xl);
            }
            
            .sidebar.open {
                transform: translateX(0);
            }
            
            .main-content {
                margin-right: 0;
            }
            
            .mobile-header {
                display: flex;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .platforms-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .page-header {
                flex-direction: column;
                gap: var(--spacing-4);
            }
            
            .page-actions {
                width: 100%;
                justify-content: flex-end;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .platforms-grid {
                grid-template-columns: 1fr;
            }
            
            .requirements-grid {
                grid-template-columns: 1fr;
            }
            
            .templates-grid {
                grid-template-columns: 1fr;
            }
            
            .import-stats-bar {
                flex-direction: column;
                gap: var(--spacing-4);
            }
            
            .section-header {
                flex-direction: column;
                align-items: flex-start;
                gap: var(--spacing-4);
            }
            
            .section-actions {
                width: 100%;
                justify-content: flex-end;
            }
            
            .upload-actions {
                flex-direction: column;
            }
            
            .history-item {
                flex-direction: column;
                align-items: flex-start;
                gap: var(--spacing-3);
            }
            
            .history-stats {
                margin: var(--spacing-2) 0;
            }
            
            .auth-container {
                padding: var(--spacing-8);
            }
            
            .modal-container {
                margin: var(--spacing-4);
                width: calc(100% - var(--spacing-8));
            }
        }

        @media (max-width: 480px) {
            :root {
                --spacing-6: 1rem;
            }
            
            .page-container {
                padding: var(--spacing-4);
            }
            
            .dashboard-section {
                padding: var(--spacing-4);
            }
            
            .stat-card {
                padding: var(--spacing-4);
            }
            
            .upload-container {
                padding: var(--spacing-4);
            }
            
            .file-drop-zone {
                padding: var(--spacing-6) var(--spacing-4);
            }
            
            .requirements-content {
                padding: var(--spacing-4);
            }
            
            .progress-container {
                padding: var(--spacing-4);
            }
            
            .progress-steps {
                flex-direction: column;
                gap: var(--spacing-4);
            }
            
            .progress-steps::before {
                display: none;
            }
            
            .progress-step {
                flex-direction: row;
                gap: var(--spacing-3);
            }
            
            .step-label {
                text-align: right;
            }
            
            .modal-container {
                margin: var(--spacing-2);
                width: calc(100% - var(--spacing-4));
            }
            
            .modal-header,
            .modal-content,
            .modal-footer {
                padding: var(--spacing-4);
            }
        }

        /* حالة التركيز لإمكانية الوصول */
        button:focus-visible,
        input:focus-visible,
        select:focus-visible,
        textarea:focus-visible,
        a:focus-visible {
            outline: 2px solid var(--accent-color);
            outline-offset: 2px;
        }

        /* الطباعة */
        @media print {
            .sidebar,
            .mobile-header,
            .page-actions,
            .section-actions,
            .btn {
                display: none !important;
            }
            
            .main-content {
                margin-right: 0;
            }
            
            .page-container {
                padding: 0;
            }
            
            .dashboard-section {
                box-shadow: none;
                border: none;
                break-inside: avoid;
            }
            
            body {
                background-color: white;
                color: black;
            }
        }

        /* فئات المساعدة */
        .hidden {
            display: none !important;
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        .text-center {
            text-align: center;
        }

        .text-left {
            text-align: left;
        }

        .text-right {
            text-align: right;
        }

        .mt-4 { margin-top: var(--spacing-4); }
        .mb-4 { margin-bottom: var(--spacing-4); }
        .ml-4 { margin-left: var(--spacing-4); }
        .mr-4 { margin-right: var(--spacing-4); }
        .mx-4 { margin-left: var(--spacing-4); margin-right: var(--spacing-4); }
        .my-4 { margin-top: var(--spacing-4); margin-bottom: var(--spacing-4); }

        .pt-4 { padding-top: var(--spacing-4); }
        .pb-4 { padding-bottom: var(--spacing-4); }
        .pl-4 { padding-left: var(--spacing-4); }
        .pr-4 { padding-right: var(--spacing-4); }
        .px-4 { padding-left: var(--spacing-4); padding-right: var(--spacing-4); }
        .py-4 { padding-top: var(--spacing-4); padding-bottom: var(--spacing-4); }

        /* إضافات CSS جديدة للتحسينات الاحترافية */
        .console-panel {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 200px;
            background: #1a1a1a;
            color: #00ff00;
            font-family: 'Courier New', monospace;
            padding: 10px;
            overflow-y: auto;
            z-index: 9999;
            border-top: 2px solid #333;
            transform: translateY(100%);
            transition: transform 0.3s ease;
            display: none;
        }

        .console-panel.active {
            transform: translateY(0);
            display: block;
        }

        .console-log {
            margin-bottom: 5px;
            padding: 5px;
            border-radius: 3px;
        }

        .console-log.error {
            background-color: rgba(255, 0, 0, 0.1);
            border-left: 3px solid #ff0000;
            color: #ff6b6b;
        }

        .console-log.warn {
            background-color: rgba(255, 165, 0, 0.1);
            border-left: 3px solid #ffa500;
            color: #ffb74d;
        }

        .console-log.info {
            background-color: rgba(0, 123, 255, 0.1);
            border-left: 3px solid #007bff;
            color: #4fc3f7;
        }

        .console-log.debug {
            background-color: rgba(0, 255, 0, 0.1);
            border-left: 3px solid #00ff00;
            color: #81c784;
        }

        .console-toggle {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: #333;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            z-index: 10000;
            font-size: 12px;
        }

        .error-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 99999;
        }

        .error-dialog {
            background: white;
            padding: 30px;
            border-radius: 10px;
            max-width: 500px;
            text-align: center;
        }

        .performance-stats {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-size: 12px;
            z-index: 10000;
            display: none;
        }

        .performance-stats.show {
            display: block;
        }
    </style>
</head>
<body>
    <!-- مؤشر الأداء -->
    <div class="performance-stats" id="performanceStats">
        <div>Memory: <span id="memoryUsage">0</span>MB</div>
        <div>Load Time: <span id="loadTime">0</span>ms</div>
        <div>Errors: <span id="errorCount">0</span></div>
    </div>

    <!-- وحدة تحكم الأخطاء -->
    <div class="console-panel" id="consolePanel">
        <div id="consoleContent"></div>
    </div>
    <button class="console-toggle" onclick="toggleConsole()">🔧 وحدة التحكم</button>

    <!-- رسالة خطأ عامة -->
    <div class="error-overlay" id="errorOverlay">
        <div class="error-dialog">
            <h3>حدث خطأ غير متوقع</h3>
            <p id="errorMessage">يرجى إعادة تحميل الصفحة والمحاولة مرة أخرى</p>
            <button onclick="location.reload()">إعادة تحميل</button>
            <button onclick="hideErrorOverlay()">إخفاء</button>
        </div>
    </div>

    <!-- شاشة التحميل -->
    <div id="loadingScreen" class="loading-screen" role="status" aria-label="جاري تحميل التطبيق">
        <div class="loading-logo">
            <svg viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <circle cx="60" cy="60" r="50" stroke="white" stroke-width="2" fill="none" opacity="0.3"/>
                <path d="M60 10 C88.7 10 110 31.3 110 60" stroke="white" stroke-width="4" fill="none" stroke-linecap="round">
                    <animateTransform attributeName="transform" type="rotate" values="0 60 60;360 60 60" dur="1s" repeatCount="indefinite"/>
                </path>
            </svg>
        </div>
        <h1 class="loading-text">SocialHub Pro</h1>
        <div class="loading-progress">
            <div class="loading-progress-bar"></div>
        </div>
        <p class="sr-only">جاري تحميل نظام الاستيراد المجمع...</p>
    </div>

    <!-- شاشة المصادقة -->
    <div id="authScreen" class="auth-screen" role="dialog" aria-labelledby="auth-title" aria-describedby="auth-subtitle">
        <div class="auth-container">
            <div class="auth-logo">
                <svg viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                    <rect width="80" height="80" rx="16" fill="var(--primary-color)"/>
                    <path d="M25 35h30v10H25V35z" fill="white"/>
                    <path d="M25 50h20v10H25V50z" fill="white"/>
                    <path d="M50 50h5v10h-5V50z" fill="white"/>
                </svg>
            </div>
            
            <h2 id="auth-title" class="auth-title">أهلاً بك في SocialHub Pro</h2>
            <p id="auth-subtitle" class="auth-subtitle">قم بتسجيل الدخول للوصول إلى نظام الاستيراد المجمع</p>
            
            <button id="signInGoogle" class="auth-button google" aria-describedby="google-desc">
                <svg width="20" height="20" viewBox="0 0 24 24" aria-hidden="true">
                    <path fill="currentColor" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                    <path fill="currentColor" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                    <path fill="currentColor" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                    <path fill="currentColor" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                </svg>
                الدخول باستخدام Google
            </button>
            <div id="google-desc" class="sr-only">تسجيل الدخول باستخدام حساب Google الخاص بك</div>
            
            <div id="authError" class="auth-error" style="display: none; color: var(--error-color); padding: var(--spacing-3); background-color: rgba(229, 62, 62, 0.1); border-radius: var(--radius-md); margin-top: var(--spacing-4);" role="alert" aria-live="polite"></div>
            <div class="auth-footer">
                <p><small>بالمتابعة، أنت توافق على <a href="/terms">الشروط والأحكام</a> و <a href="/privacy">سياسة الخصوصية</a></small></p>
            </div>
        </div>
    </div>

    <!-- حاوية الإشعارات -->
    <div id="toastContainer" class="toast-container" aria-live="polite" aria-label="الإشعارات"></div>

    <!-- التطبيق الرئيسي -->
    <div id="mainApp" class="main-app hidden">
        <!-- الشريط الجانبي -->
        <nav id="sidebar" class="sidebar" role="navigation" aria-label="التنقل الرئيسي">
            <div class="sidebar-header">
                <button id="sidebarToggle" class="sidebar-toggle" aria-label="إغلاق القائمة الجانبية" aria-expanded="true">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                        <line x1="3" y1="6" x2="21" y2="6"></line>
                        <line x1="3" y1="12" x2="21" y2="12"></line>
                        <line x1="3" y1="18" x2="21" y2="18"></line>
                    </svg>
                </button>
                
                <div class="sidebar-brand">
                    <div class="brand-logo">
                        <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                            <rect width="32" height="32" rx="8" fill="var(--primary-color)"/>
                            <rect x="6" y="10" width="20" height="3" fill="white"/>
                            <rect x="6" y="15" width="14" height="3" fill="white"/>
                            <rect x="22" y="15" width="4" height="3" fill="white"/>
                            <rect x="6" y="20" width="10" height="3" fill="white"/>
                        </svg>
                    </div>
                    <span class="brand-text">SocialHub Pro</span>
                </div>
            </div>
            
            <!-- قسم الملف الشخصي -->
            <div class="sidebar-user">
                <img id="userAvatar" class="user-avatar" src="" alt="صورة المستخدم" loading="lazy">
                <div class="user-info">
                    <div id="userName" class="user-name">المستخدم</div>
                    <div id="userEmail" class="user-email">user@example.com</div>
                </div>
            </div>
            
            <!-- الإحصائيات السريعة -->
            <div class="sidebar-stats">
                <div class="stat-item">
                    <span class="stat-label">عمليات الاستيراد</span>
                    <span id="sidebarImports" class="stat-value">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">مجدولة اليوم</span>
                    <span id="sidebarScheduled" class="stat-value">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">حسابات متصلة</span>
                    <span id="sidebarAccounts" class="stat-value">0</span>
                </div>
            </div>
            
            <!-- قائمة التنقل -->
            <div class="sidebar-nav">
                <div class="nav-item">
                    <button id="navDashboard" class="nav-link active" aria-current="page" data-page="dashboard">
                        <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                            <rect x="3" y="3" width="7" height="7"></rect>
                            <rect x="14" y="3" width="7" height="7"></rect>
                            <rect x="14" y="14" width="7" height="7"></rect>
                            <rect x="3" y="14" width="7" height="7"></rect>
                        </svg>
                        <span class="nav-text">لوحة التحكم</span>
                    </button>
                </div>
                
                <div class="nav-item">
                    <button id="navBulkImport" class="nav-link" data-page="bulk-import">
                        <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14,2 14,8 20,8"></polyline>
                            <line x1="16" y1="13" x2="8" y2="13"></line>
                            <line x1="16" y1="17" x2="8" y2="17"></line>
                            <polyline points="10,9 9,9 8,9"></polyline>
                        </svg>
                        <span class="nav-text">الاستيراد المجمع</span>
                        <span class="nav-badge">جديد</span>
                    </button>
                </div>
                
                <div class="nav-item">
                    <button id="navAnalytics" class="nav-link" data-page="analytics">
                        <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                            <polyline points="22,12 18,12 15,21 9,3 6,12 2,12"></polyline>
                        </svg>
                        <span class="nav-text">التحليلات</span>
                    </button>
                </div>
                
                <div class="nav-item">
                    <button id="navAccounts" class="nav-link" data-page="accounts">
                        <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                        <span class="nav-text">إدارة الحسابات</span>
                    </button>
                </div>
                
                <div class="nav-item">
                    <button id="navSettings" class="nav-link" data-page="settings">
                        <svg class="nav-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                            <circle cx="12" cy="12" r="3"></circle>
                            <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1m10-7a4 4 0 0 1 0 8 4 4 0 0 1 0-8zM1 12a4 4 0 0 1 8 0 4 4 0 0 1-8 0zm18 0a4 4 0 0 1-8 0 4 4 0 0 1 8 0z"></path>
                        </svg>
                        <span class="nav-text">الإعدادات</span>
                    </button>
                </div>
            </div>
            
            <!-- تذييل الشريط الجانبي -->
            <div class="sidebar-footer">
                <div class="sidebar-actions">
                    <button id="themeToggle" class="sidebar-action" aria-label="تغيير المظهر" title="تغيير المظهر">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                        </svg>
                    </button>
                    
                    <button id="helpCenter" class="sidebar-action" aria-label="مركز المساعدة" title="مركز المساعدة">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                            <circle cx="12" cy="12" r="10"></circle>
                            <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
                            <line x1="12" y1="17" x2="12.01" y2="17"></line>
                        </svg>
                    </button>
                    
                    <button id="signOut" class="sidebar-action" aria-label="تسجيل الخروج" title="تسجيل الخروج">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                            <polyline points="16,17 21,12 16,7"></polyline>
                            <line x1="21" y1="12" x2="9" y2="12"></line>
                        </svg>
                    </button>
                </div>
                
                <div class="sidebar-storage">
                    <div class="storage-info">
                        <span class="storage-label">المساحة المستخدمة</span>
                        <span id="storageUsage" class="storage-value">0 MB</span>
                    </div>
                    <div class="storage-bar">
                        <div id="storageBar" class="storage-progress" style="width: 0%"></div>
                    </div>
                </div>
            </div>
        </nav>
        
        <!-- منطقة المحتوى الرئيسي -->
        <main id="main-content" class="main-content" role="main">
            <!-- رأس الموبايل -->
            <header class="mobile-header">
                <button id="mobileSidebarToggle" class="mobile-menu-toggle" aria-label="فتح القائمة" aria-expanded="false">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                        <line x1="3" y1="6" x2="21" y2="6"></line>
                        <line x1="3" y1="12" x2="21" y2="12"></line>
                        <line x1="3" y1="18" x2="21" y2="18"></line>
                    </svg>
                </button>
                
                <div class="mobile-title">
                    <h1 id="mobilePageTitle">لوحة التحكم</h1>
                </div>
                
                <div class="mobile-actions">
                    <button id="mobileNotifications" class="mobile-action" aria-label="الإشعارات" title="الإشعارات">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                            <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                            <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                        </svg>
                        <span id="notificationBadge" class="notification-badge hidden">0</span>
                    </button>
                </div>
            </header>
            
            <!-- حاوية الصفحة -->
            <div class="page-container">
                <!-- صفحة لوحة التحكم -->
                <section id="page-dashboard" class="page-content active" role="tabpanel" aria-labelledby="navDashboard">
                    <div class="page-header">
                        <div class="page-title-section">
                            <h1 class="page-title">لوحة التحكم</h1>
                            <p class="page-subtitle">نظرة شاملة على أداء نظام الاستيراد المجمع</p>
                        </div>
                        
                        <div class="page-actions">
                            <button id="refreshDashboard" class="btn btn-secondary" aria-label="تحديث البيانات">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                    <polyline points="23,4 23,10 17,10"></polyline>
                                    <polyline points="1,20 1,14 7,14"></polyline>
                                    <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>
                                </svg>
                                تحديث
                            </button>
                            
                            <button id="bulkImportQuick" class="btn btn-primary">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                    <polyline points="14,2 14,8 20,8"></polyline>
                                    <line x1="12" y1="18" x2="12" y2="12"></line>
                                    <line x1="9" y1="15" x2="15" y2="15"></line>
                                </svg>
                                استيراد جديد
                            </button>
                        </div>
                    </div>
                    
                    <!-- شبكة الإحصائيات -->
                    <div class="stats-grid">
                        <div class="stat-card primary">
                            <div class="stat-content">
                                <div class="stat-info">
                                    <h3 class="stat-title">إجمالي عمليات الاستيراد</h3>
                                    <div id="totalImports" class="stat-number">0</div>
                                </div>
                                <div class="stat-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                        <polyline points="14,2 14,8 20,8"></polyline>
                                    </svg>
                                </div>
                            </div>
                            <div class="stat-footer">
                                <span class="stat-change positive" id="importsChange">+0%</span>
                                <span class="stat-period">مقارنة بالشهر الماضي</span>
                            </div>
                        </div>
                        
                        <div class="stat-card success">
                            <div class="stat-content">
                                <div class="stat-info">
                                    <h3 class="stat-title">المنشورات المجدولة</h3>
                                    <div id="scheduledPosts" class="stat-number">0</div>
                                </div>
                                <div class="stat-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                        <circle cx="12" cy="12" r="10"></circle>
                                        <polyline points="12,6 12,12 16,14"></polyline>
                                    </svg>
                                </div>
                            </div>
                            <div class="stat-footer">
                                <span class="stat-change" id="scheduledChange">0</span>
                                <span class="stat-period">في آخر 24 ساعة</span>
                            </div>
                        </div>
                        
                        <div class="stat-card warning">
                            <div class="stat-content">
                                <div class="stat-info">
                                    <h3 class="stat-title">معدل النجاح</h3>
                                    <div id="successRate" class="stat-number">0%</div>
                                </div>
                                <div class="stat-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                        <polyline points="22,12 18,12 15,21 9,3 6,12 2,12"></polyline>
                                    </svg>
                                </div>
                            </div>
                            <div class="stat-footer">
                                <span class="stat-change" id="successChange">0%</span>
                                <span class="stat-period">معدل النشر الناجح</span>
                            </div>
                        </div>
                        
                        <div class="stat-card info">
                            <div class="stat-content">
                                <div class="stat-info">
                                    <h3 class="stat-title">المساحة المستخدمة</h3>
                                    <div id="storageUsed" class="stat-number">0 MB</div>
                                </div>
                                <div class="stat-icon">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                        <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                                    </svg>
                                </div>
                            </div>
                            <div class="stat-footer">
                                <span class="stat-change" id="storageChange">0</span>
                                <span class="stat-period">ملفات نشطة</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- قسم النشاط الأخير -->
                    <div class="dashboard-section">
                        <div class="section-header">
                            <h2 class="section-title">النشاط الأخير</h2>
                            <div class="section-actions">
                                <button id="viewAllImports" class="btn btn-text">عرض الكل</button>
                            </div>
                        </div>
                        
                        <div class="activity-container">
                            <div id="recentImports" class="activity-list" role="list">
                                <div class="loading-state">
                                    <div class="loading-spinner" aria-hidden="true"></div>
                                    <p>جاري تحميل النشاط الأخير...</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- قسم المنشورات القادمة -->
                    <div class="dashboard-section">
                        <div class="section-header">
                            <h2 class="section-title">المنشورات القادمة (24 ساعة)</h2>
                            <div class="section-actions">
                                <button id="viewScheduled" class="btn btn-text">عرض الجدولة</button>
                            </div>
                        </div>
                        
                        <div class="upcoming-container">
                            <div id="upcomingPosts" class="upcoming-list" role="list">
                                <div class="loading-state">
                                    <div class="loading-spinner" aria-hidden="true"></div>
                                    <p>جاري تحميل المنشورات القادمة...</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- قسم أداء المنصات -->
                    <div class="dashboard-section">
                        <div class="section-header">
                            <h2 class="section-title">أداء المنصات</h2>
                        </div>
                        
                        <div class="platforms-grid">
                            <div class="platform-card facebook">
                                <div class="platform-header">
                                    <div class="platform-icon">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                                            <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                                        </svg>
                                    </div>
                                    <div class="platform-info">
                                        <h3 class="platform-name">Facebook</h3>
                                        <span id="facebookStatus" class="platform-status online">متصل</span>
                                    </div>
                                </div>
                                <div class="platform-stats">
                                    <div class="platform-stat">
                                        <span class="stat-label">نُشر اليوم</span>
                                        <span id="facebookToday" class="stat-value">0</span>
                                    </div>
                                    <div class="platform-stat">
                                        <span class="stat-label">معدل النجاح</span>
                                        <span id="facebookSuccess" class="stat-value">0%</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="platform-card instagram">
                                <div class="platform-header">
                                    <div class="platform-icon">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                                            <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                                            <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                                            <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
                                        </svg>
                                    </div>
                                    <div class="platform-info">
                                        <h3 class="platform-name">Instagram</h3>
                                        <span id="instagramStatus" class="platform-status online">متصل</span>
                                    </div>
                                </div>
                                <div class="platform-stats">
                                    <div class="platform-stat">
                                        <span class="stat-label">نُشر اليوم</span>
                                        <span id="instagramToday" class="stat-value">0</span>
                                    </div>
                                    <div class="platform-stat">
                                        <span class="stat-label">معدل النجاح</span>
                                        <span id="instagramSuccess" class="stat-value">0%</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="platform-card twitter">
                                <div class="platform-header">
                                    <div class="platform-icon">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                                            <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
                                        </svg>
                                    </div>
                                    <div class="platform-info">
                                        <h3 class="platform-name">Twitter</h3>
                                        <span id="twitterStatus" class="platform-status online">متصل</span>
                                    </div>
                                </div>
                                <div class="platform-stats">
                                    <div class="platform-stat">
                                        <span class="stat-label">نُشر اليوم</span>
                                        <span id="twitterToday" class="stat-value">0</span>
                                    </div>
                                    <div class="platform-stat">
                                        <span class="stat-label">معدل النجاح</span>
                                        <span id="twitterSuccess" class="stat-value">0%</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="platform-card linkedin">
                                <div class="platform-header">
                                    <div class="platform-icon">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                                            <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                                        </svg>
                                    </div>
                                    <div class="platform-info">
                                        <h3 class="platform-name">LinkedIn</h3>
                                        <span id="linkedinStatus" class="platform-status online">متصل</span>
                                    </div>
                                </div>
                                <div class="platform-stats">
                                    <div class="platform-stat">
                                        <span class="stat-label">نُشر اليوم</span>
                                        <span id="linkedinToday" class="stat-value">0</span>
                                    </div>
                                    <div class="platform-stat">
                                        <span class="stat-label">معدل النجاح</span>
                                        <span id="linkedinSuccess" class="stat-value">0%</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="platform-card tiktok">
                                <div class="platform-header">
                                    <div class="platform-icon">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                                            <path d="M12.53.02C13.84 0 15.14.01 16.44 0c.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"/>
                                        </svg>
                                    </div>
                                    <div class="platform-info">
                                        <h3 class="platform-name">TikTok</h3>
                                        <span id="tiktokStatus" class="platform-status online">متصل</span>
                                    </div>
                                </div>
                                <div class="platform-stats">
                                    <div class="platform-stat">
                                        <span class="stat-label">نُشر اليوم</span>
                                        <span id="tiktokToday" class="stat-value">0</span>
                                    </div>
                                    <div class="platform-stat">
                                        <span class="stat-label">معدل النجاح</span>
                                        <span id="tiktokSuccess" class="stat-value">0%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- صفحة الاستيراد المجمع -->
                <section id="page-bulk-import" class="page-content" role="tabpanel" aria-labelledby="navBulkImport">
                    <div class="page-header">
                        <div class="page-title-section">
                            <h1 class="page-title">الاستيراد المجمع</h1>
                            <p class="page-subtitle">استيراد ونشر المحتوى على جميع المنصات الاجتماعية</p>
                        </div>
                        
                        <div class="page-actions">
                            <button id="viewImportGuide" class="btn btn-text" aria-describedby="guide-tooltip">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
                                    <line x1="12" y1="17" x2="12.01" y2="17"></line>
                                </svg>
                                دليل الاستخدام
                            </button>
                            <div id="guide-tooltip" class="sr-only">فتح دليل شامل لكيفية استخدام نظام الاستيراد المجمع</div>
                        </div>
                    </div>
                    
                    <!-- الإحصائيات السريعة -->
                    <div class="import-stats-bar">
                        <div class="import-stat">
                            <span class="import-stat-label">آخر استيراد</span>
                            <span id="lastImportTime" class="import-stat-value">--</span>
                        </div>
                        <div class="import-stat">
                            <span class="import-stat-label">معدل النجاح</span>
                            <span id="importSuccessRate" class="import-stat-value">--</span>
                        </div>
                        <div class="import-stat">
                            <span class="import-stat-label">إجمالي الملفات</span>
                            <span id="totalFiles" class="import-stat-value">0</span>
                        </div>
                    </div>
                    
                    <!-- قسم رفع الملف -->
                    <div class="upload-section">
                        <div class="section-header">
                            <h2 class="section-title">رفع ملف الاستيراد</h2>
                        </div>
                        
                        <div class="upload-container">
                            <div id="fileDropZone" class="file-drop-zone" 
                                 role="button" 
                                 tabindex="0"
                                 aria-label="منطقة رفع الملفات - اسحب وأفلت الملف هنا أو انقر لاختيار ملف"
                                 aria-describedby="upload-instructions">
                                
                                <div class="drop-zone-content">
                                    <div class="upload-icon">
                                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" aria-hidden="true">
                                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                            <polyline points="14,2 14,8 20,8"></polyline>
                                            <line x1="12" y1="18" x2="12" y2="12"></line>
                                            <line x1="9" y1="15" x2="15" y2="15"></line>
                                        </svg>
                                    </div>
                                    
                                    <h3 class="upload-title">اسحب وأفلت ملف CSV أو JSON</h3>
                                    <p class="upload-subtitle">أو انقر لاختيار ملف من جهازك</p>
                                    
                                    <button id="fileSelectBtn" class="btn btn-primary" type="button">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                            <polyline points="7,10 12,15 17,10"></polyline>
                                            <line x1="12" y1="15" x2="12" y2="3"></line>
                                        </svg>
                                        اختيار ملف
                                    </button>
                                    
                                    <input type="file" 
                                           id="bulkImportFile" 
                                           accept=".csv,.json,text/csv,application/json" 
                                           style="display: none;"
                                           aria-describedby="file-requirements">
                                </div>
                                
                                <div id="upload-instructions" class="upload-instructions">
                                    <p><strong>الصيغ المدعومة:</strong> CSV, JSON</p>
                                    <p><strong>الحد الأقصى للحجم:</strong> 50 ميجابايت</p>
                                    <p><strong>التشفير:</strong> UTF-8</p>
                                </div>
                            </div>
                            
                            <!-- عرض معلومات الملف -->
                            <div id="fileInfo" class="file-info" style="display: none;" role="status" aria-live="polite">
                                <!-- سيتم ملؤه ديناميكيًا -->
                            </div>
                            
                            <!-- إجراءات الرفع -->
                            <div id="uploadActions" class="upload-actions" style="display: none;">
                                <button id="uploadBulkFile" class="btn btn-primary" disabled>
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                        <polyline points="17,8 12,3 7,8"></polyline>
                                        <line x1="12" y1="3" x2="12" y2="15"></line>
                                    </svg>
                                    رفع وبدء المعالجة
                                </button>
                                
                                <button id="clearFile" class="btn btn-secondary">إزالة الملف</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- متطلبات الملف -->
                    <div class="requirements-section">
                        <div class="section-header">
                            <h2 class="section-title">متطلبات الملف والأعمدة</h2>
                            <button id="toggleRequirements" class="btn btn-text" aria-expanded="true" aria-controls="requirements-content">
                                إخفاء التفاصيل
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                    <polyline points="6,9 12,15 18,9"></polyline>
                                </svg>
                            </button>
                        </div>
                        
                        <div id="requirements-content" class="requirements-content">
                            <div class="requirements-grid">
                                <div class="requirement-item">
                                    <h3 class="requirement-title">socialTitle</h3>
                                    <p class="requirement-desc">عنوان المنشور (1-280 حرف)</p>
                                    <code class="requirement-example">"عرض خاص لفترة محدودة!"</code>
                                </div>
                                
                                <div class="requirement-item">
                                    <h3 class="requirement-title">socialDescription</h3>
                                    <p class="requirement-desc">وصف المنشور (1-2000 حرف)</p>
                                    <code class="requirement-example">"اكتشف منتجاتنا الجديدة..."</code>
                                </div>
                                
                                <div class="requirement-item">
                                    <h3 class="requirement-title">shortUrl</h3>
                                    <p class="requirement-desc">رابط صحيح يبدأ بـ https://</p>
                                    <code class="requirement-example">"https://example.com/offer"</code>
                                </div>
                                
                                <div class="requirement-item">
                                    <h3 class="requirement-title">linkType</h3>
                                    <p class="requirement-desc">نوع الرابط</p>
                                    <code class="requirement-example">article, video, image, link, event</code>
                                </div>
                                
                                <div class="requirement-item">
                                    <h3 class="requirement-title">socialImageurl</h3>
                                    <p class="requirement-desc">رابط الصورة المرفقة</p>
                                    <code class="requirement-example">"https://example.com/image.jpg"</code>
                                </div>
                                
                                <div class="requirement-item">
                                    <h3 class="requirement-title">socialhachtags</h3>
                                    <p class="requirement-desc">الهاشتاجات مفصولة بفواصل</p>
                                    <code class="requirement-example">"#عرض,#خصم,#تسوق"</code>
                                </div>
                                
                                <div class="requirement-item">
                                    <h3 class="requirement-title">day</h3>
                                    <p class="requirement-desc">تاريخ النشر (YYYY-MM-DD)</p>
                                    <code class="requirement-example">"2024-12-25"</code>
                                </div>
                                
                                <div class="requirement-item">
                                    <h3 class="requirement-title">hour</h3>
                                    <p class="requirement-desc">وقت النشر (HH:MM)</p>
                                    <code class="requirement-example">"14:30"</code>
                                </div>
                                
                                <div class="requirement-item">
                                    <h3 class="requirement-title">platform</h3>
                                    <p class="requirement-desc">المنصات مفصولة بفواصل</p>
                                    <code class="requirement-example">"facebook,instagram,twitter"</code>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- قسم النماذج -->
                    <div class="templates-section">
                        <div class="section-header">
                            <h2 class="section-title">نماذج الملفات</h2>
                            <p class="section-subtitle">حمّل نموذج جاهز لتبدأ بسرعة</p>
                        </div>
                        
                        <div class="templates-grid">
                            <div class="template-card">
                                <div class="template-icon csv">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                        <polyline points="14,2 14,8 20,8"></polyline>
                                        <line x1="16" y1="13" x2="8" y2="13"></line>
                                        <line x1="16" y1="17" x2="8" y2="17"></line>
                                    </svg>
                                </div>
                                <div class="template-info">
                                    <h3 class="template-title">نموذج CSV</h3>
                                    <p class="template-desc">ملف CSV مع جميع الأعمدة المطلوبة وبيانات نموذجية</p>
                                </div>
                                <button id="downloadCsvTemplate" class="btn btn-outline">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                        <polyline points="7,10 12,15 17,10"></polyline>
                                        <line x1="12" y1="15" x2="12" y2="3"></line>
                                    </svg>
                                    تحميل CSV
                                </button>
                            </div>
                            
                            <div class="template-card">
                                <div class="template-icon json">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                        <polyline points="14,2 14,8 20,8"></polyline>
                                        <path d="M10 12h4v4h-4z"></path>
                                    </svg>
                                </div>
                                <div class="template-info">
                                    <h3 class="template-title">نموذج JSON</h3>
                                    <p class="template-desc">ملف JSON منسق مع هيكل البيانات الصحيح</p>
                                </div>
                                <button id="downloadJsonTemplate" class="btn btn-outline">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                        <polyline points="7,10 12,15 17,10"></polyline>
                                        <line x1="12" y1="15" x2="12" y2="3"></line>
                                    </svg>
                                    تحميل JSON
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- قسم تقدم الاستيراد -->
                    <div id="importProgressContainer" class="progress-section" style="display: none;" role="region" aria-labelledby="progress-title">
                        <div class="section-header">
                            <h2 id="progress-title" class="section-title">جاري المعالجة</h2>
                            <div class="section-actions">
                                <button id="cancelImport" class="btn btn-danger-outline">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                        <line x1="18" y1="6" x2="6" y2="18"></line>
                                        <line x1="6" y1="6" x2="18" y2="18"></line>
                                    </svg>
                                    إلغاء
                                </button>
                            </div>
                        </div>
                        
                        <div class="progress-container">
                            <!-- شريط التقدم -->
                            <div class="progress-bar-container">
                                <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                                    <div id="importProgressBar" class="progress-fill"></div>
                                </div>
                                <div class="progress-info">
                                    <span id="importProgressText" class="progress-text">جاري التحضير...</span>
                                    <span id="importProgressPercent" class="progress-percent">0%</span>
                                </div>
                            </div>
                            
                            <!-- خطوات التقدم -->
                            <div class="progress-steps">
                                <div class="progress-step active" id="step-upload">
                                    <div class="step-indicator">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                            <polyline points="17,8 12,3 7,8"></polyline>
                                            <line x1="12" y1="3" x2="12" y2="15"></line>
                                        </svg>
                                    </div>
                                    <span class="step-label">رفع الملف</span>
                                </div>
                                
                                <div class="progress-step" id="step-parse">
                                    <div class="step-indicator">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                            <polyline points="14,2 14,8 20,8"></polyline>
                                        </svg>
                                    </div>
                                    <span class="step-label">تحليل البيانات</span>
                                </div>
                                
                                <div class="progress-step" id="step-validate">
                                    <div class="step-indicator">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                            <polyline points="20,6 9,17 4,12"></polyline>
                                        </svg>
                                    </div>
                                    <span class="step-label">التحقق من الصحة</span>
                                </div>
                                
                                <div class="progress-step" id="step-schedule">
                                    <div class="step-indicator">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                            <circle cx="12" cy="12" r="10"></circle>
                                            <polyline points="12,6 12,12 16,14"></polyline>
                                        </svg>
                                    </div>
                                    <span class="step-label">الجدولة</span>
                                </div>
                                
                                <div class="progress-step" id="step-complete">
                                    <div class="step-indicator">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                            <polyline points="22,4 12,14.01 9,11.01"></polyline>
                                        </svg>
                                    </div>
                                    <span class="step-label">اكتمل</span>
                                </div>
                            </div>
                            
                            <!-- الحالة الحالية -->
                            <div class="progress-status">
                                <div id="importStatus" class="status-indicator processing">
                                    جاري المعالجة...
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- قسم نتائج الاستيراد -->
                    <div id="importResults" class="results-section" style="display: none;" role="region" aria-labelledby="results-title">
                        <!-- سيتم ملؤه ديناميكيًا -->
                    </div>
                    
                    <!-- قسم تاريخ الاستيراد -->
                    <div class="history-section">
                        <div class="section-header">
                            <h2 class="section-title">تاريخ الاستيراد</h2>
                            <div class="section-actions">
                                <button id="refreshHistory" class="btn btn-text">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                        <polyline points="23,4 23,10 17,10"></polyline>
                                        <polyline points="1,20 1,14 7,14"></polyline>
                                        <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>
                                    </svg>
                                    تحديث
                                </button>
                                
                                <button id="clearHistory" class="btn btn-text text-danger">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                        <polyline points="3,6 5,6 21,6"></polyline>
                                        <path d="M19,6v14a2,2 0,0,1-2,2H7a2,2 0,0,1-2-2V6m3,0V4a2,2 0,0,1,2-2h4a2,2 0,0,1,2,2v2"></path>
                                    </svg>
                                    مسح التاريخ
                                </button>
                            </div>
                        </div>
                        
                        <div class="history-container">
                            <div id="importHistory" class="history-list" role="list">
                                <!-- سيتم ملؤه ديناميكيًا -->
                                <div class="loading-state">
                                    <div class="loading-spinner" aria-hidden="true"></div>
                                    <p>جاري تحميل تاريخ الاستيراد...</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- صفحة التحليلات -->
                <section id="page-analytics" class="page-content" role="tabpanel" aria-labelledby="navAnalytics">
                    <div class="page-header">
                        <div class="page-title-section">
                            <h1 class="page-title">التحليلات</h1>
                            <p class="page-subtitle">تحليل شامل لأداء النشر والاستيراد</p>
                        </div>
                        
                        <div class="page-actions">
                            <select id="analyticsTimeframe" class="form-select" aria-label="اختيار فترة التحليل">
                                <option value="7">آخر 7 أيام</option>
                                <option value="30" selected>آخر 30 يوم</option>
                                <option value="90">آخر 3 أشهر</option>
                                <option value="365">آخر سنة</option>
                            </select>
                            
                            <button id="exportAnalytics" class="btn btn-outline">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                    <polyline points="7,10 12,15 17,10"></polyline>
                                    <line x1="12" y1="15" x2="12" y2="3"></line>
                                </svg>
                                تصدير التقرير
                            </button>
                        </div>
                    </div>
                    
                    <!-- محتوى التحليلات -->
                    <div class="analytics-container">
                        <div class="loading-state">
                            <div class="loading-spinner" aria-hidden="true"></div>
                            <p>جاري تحميل بيانات التحليل...</p>
                        </div>
                    </div>
                </section>

                <!-- صفحة الحسابات -->
                <section id="page-accounts" class="page-content" role="tabpanel" aria-labelledby="navAccounts">
                    <div class="page-header">
                        <div class="page-title-section">
                            <h1 class="page-title">إدارة الحسابات</h1>
                            <p class="page-subtitle">ربط وإدارة حساباتك على المنصات الاجتماعية</p>
                        </div>
                        
                        <div class="page-actions">
                            <button id="addNewAccount" class="btn btn-primary">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                    <line x1="12" y1="5" x2="12" y2="19"></line>
                                    <line x1="5" y1="12" x2="19" y2="12"></line>
                                </svg>
                                ربط حساب جديد
                            </button>
                        </div>
                    </div>
                    
                    <!-- محتوى الحسابات -->
                    <div class="accounts-container">
                        <div class="loading-state">
                            <div class="loading-spinner" aria-hidden="true"></div>
                            <p>جاري تحميل الحسابات المربوطة...</p>
                        </div>
                    </div>
                </section>

                <!-- صفحة الإعدادات -->
                <section id="page-settings" class="page-content" role="tabpanel" aria-labelledby="navSettings">
                    <div class="page-header">
                        <div class="page-title-section">
                            <h1 class="page-title">الإعدادات</h1>
                            <p class="page-subtitle">إعدادات النظام والتخصيص</p>
                        </div>
                    </div>
                    
                    <!-- محتوى الإعدادات -->
                    <div class="settings-container">
                        <div class="loading-state">
                            <div class="loading-spinner" aria-hidden="true"></div>
                            <p>جاري تحميل الإعدادات...</p>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- مؤشر عدم الاتصال -->
    <div id="offlineIndicator" class="offline-indicator" style="display: none;" role="status" aria-live="polite">
        <div class="offline-content">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <line x1="1" y1="1" x2="23" y2="23"></line>
                <path d="M16.72 11.06A10.94 10.94 0 0 1 19 12.55"></path>
                <path d="M5 12.55a10.94 10.94 0 0 1 5.17-2.39"></path>
                <path d="M10.71 5.05A16 16 0 0 1 22.58 9"></path>
                <path d="M1.42 9a15.91 15.91 0 0 1 4.7-2.88"></path>
                <path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path>
                <line x1="12" y1="20" x2="12.01" y2="20"></line>
            </svg>
            <span>لا يوجد اتصال بالإنترنت</span>
        </div>
    </div>

    <!-- نافذة المساعدة -->
    <div id="helpModal" class="modal" role="dialog" aria-labelledby="help-modal-title" aria-describedby="help-modal-content" aria-hidden="true">
        <div class="modal-overlay" role="presentation"></div>
        <div class="modal-container">
            <div class="modal-header">
                <h2 id="help-modal-title" class="modal-title">مركز المساعدة</h2>
                <button id="closeHelpModal" class="modal-close" aria-label="إغلاق مركز المساعدة">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            
            <div id="help-modal-content" class="modal-content">
                <div class="help-content">
                    <!-- محتوى المساعدة سيتم تحميله ديناميكيًا -->
                    <div class="loading-state">
                        <div class="loading-spinner" aria-hidden="true"></div>
                        <p>جاري تحميل المساعدة...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- نافذة التأكيد -->
    <div id="confirmModal" class="modal" role="dialog" aria-labelledby="confirm-modal-title" aria-describedby="confirm-modal-content" aria-hidden="true">
        <div class="modal-overlay" role="presentation"></div>
        <div class="modal-container small">
            <div class="modal-header">
                <h2 id="confirm-modal-title" class="modal-title">تأكيد العملية</h2>
            </div>
            
            <div id="confirm-modal-content" class="modal-content">
                <p id="confirmMessage">هل أنت متأكد من هذا الإجراء؟</p>
            </div>
            
            <div class="modal-footer">
                <button id="confirmCancel" class="btn btn-secondary">إلغاء</button>
                <button id="confirmAction" class="btn btn-danger">تأكيد</button>
            </div>
        </div>
    </div>

    <!-- إعلانات قارئ الشاشة -->
    <div id="sr-announcements" class="sr-only" aria-live="polite" aria-atomic="true"></div>

    <!-- البرامج النصية الأساسية -->
    <script>
        // منع FOUC (وميض المحتوى غير المنسق)
        document.documentElement.className = document.documentElement.className.replace('no-js', 'js');
        
        // معالجة الأخطاء الحرجة
        window.addEventListener('error', function(e) {
            console.error('خطأ حرج:', e.error);
            if (typeof window.SocialHubPro !== 'undefined' && window.SocialHubPro.ErrorHandler) {
                window.SocialHubPro.ErrorHandler.handle(e.error);
            }
        });
        
        window.addEventListener('unhandledrejection', function(e) {
            console.error('رفض وعد غير معالج:', e.reason);
            if (typeof window.SocialHubPro !== 'undefined' && window.SocialHubPro.ErrorHandler) {
                window.SocialHubPro.ErrorHandler.handle(e.reason);
            }
        });
        
        // مراقبة الأداء
        window.addEventListener('load', function() {
            if (typeof PerformanceObserver !== 'undefined') {
                try {
                    const observer = new PerformanceObserver((list) => {
                        for (const entry of list.getEntries()) {
                            if (entry.name === 'first-contentful-paint') {
                                console.log('FCP:', entry.startTime);
                            }
                            if (entry.name === 'largest-contentful-paint') {
                                console.log('LCP:', entry.startTime);
                            }
                        }
                    });
                    observer.observe({entryTypes: ['paint', 'largest-contentful-paint']});
                } catch (e) {
                    console.warn('مراقب الأداء غير مدعوم');
                }
            }
        });
    </script>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-storage-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore-compat.js"></script>
    
    <!-- التطبيق الرئيسي -->
    <script>
        /*
        ================================================================
        SOCIALHUB PRO v12.0 - ENHANCED PROFESSIONAL VERSION
        ================================================================
        التحسينات الجديدة:
        - نظام تسجيل احترافي مع وحدة تحكم مرئية
        - معالجة شاملة للأخطاء مع تتبع المصدر
        - مراقبة الأداء في الوقت الفعلي
        - تشخيص ذكي للمشاكل
        - نظام استرداد تلقائي من الأخطاء
        ================================================================
        */

        // نظام التسجيل المحسن
        class EnhancedLogger {
            constructor() {
                this.logs = [];
                this.maxLogs = 1000;
                this.consoleElement = document.getElementById('consoleContent');
                this.performanceStart = performance.now();
                this.errorCount = 0;

                // ربط الأحداث العامة
                this.bindGlobalErrorHandlers();

                // بدء مراقبة الأداء
                this.startPerformanceMonitoring();

                console.log('📊 Enhanced Logger initialized successfully');
            }

            bindGlobalErrorHandlers() {
                // معالج الأخطاء العامة
                window.addEventListener('error', (event) => {
                    this.handleError({
                        type: 'JavaScript Error',
                        message: event.message,
                        filename: event.filename,
                        lineno: event.lineno,
                        colno: event.colno,
                        stack: event.error?.stack,
                        timestamp: new Date().toISOString()
                    });
                });

                // معالج الوعود المرفوضة
                window.addEventListener('unhandledrejection', (event) => {
                    this.handleError({
                        type: 'Unhandled Promise Rejection',
                        message: event.reason?.message || event.reason,
                        stack: event.reason?.stack,
                        timestamp: new Date().toISOString()
                    });
                });

                // معالج أخطاء الموارد
                window.addEventListener('error', (event) => {
                    if (event.target !== window) {
                        this.handleError({
                            type: 'Resource Error',
                            message: `فشل تحميل المورد: ${event.target.src || event.target.href}`,
                            element: event.target.tagName,
                            timestamp: new Date().toISOString()
                        });
                    }
                }, true);
            }

            startPerformanceMonitoring() {
                // مراقبة استخدام الذاكرة
                setInterval(() => {
                    if (performance.memory) {
                        const memoryMB = (performance.memory.usedJSHeapSize / 1048576).toFixed(2);
                        document.getElementById('memoryUsage').textContent = memoryMB;
                    }

                    const loadTime = (performance.now() - this.performanceStart).toFixed(0);
                    document.getElementById('loadTime').textContent = loadTime;
                    document.getElementById('errorCount').textContent = this.errorCount;
                }, 2000);
            }

            handleError(errorInfo) {
                this.errorCount++;

                // تسجيل مفصل للخطأ
                const enhancedError = {
                    ...errorInfo,
                    id: this.generateErrorId(),
                    severity: this.categorizeError(errorInfo),
                    context: this.gatherContext(),
                    solution: this.suggestSolution(errorInfo)
                };

                // عرض في وحدة التحكم
                this.logToConsole('error', this.formatErrorMessage(enhancedError));

                // إرسال إلى نظام المراقبة
                this.reportError(enhancedError);

                // محاولة الاسترداد التلقائي
                this.attemptAutoRecovery(enhancedError);

                console.error('🚨 Enhanced Error Detected:', enhancedError);
            }

            categorizeError(errorInfo) {
                if (errorInfo.message?.includes('firebase') || errorInfo.message?.includes('Firebase')) {
                    return 'firebase';
                } else if (errorInfo.message?.includes('network') || errorInfo.message?.includes('fetch')) {
                    return 'network';
                } else if (errorInfo.type === 'Resource Error') {
                    return 'resource';
                } else {
                    return 'javascript';
                }
            }

            gatherContext() {
                return {
                    url: window.location.href,
                    userAgent: navigator.userAgent,
                    timestamp: new Date().toISOString(),
                    viewport: `${window.innerWidth}x${window.innerHeight}`,
                    connection: navigator.connection?.effectiveType || 'unknown',
                    memory: performance.memory ? `${(performance.memory.usedJSHeapSize / 1048576).toFixed(2)}MB` : 'unknown'
                };
            }

            suggestSolution(errorInfo) {
                const solutions = {
                    firebase: 'تحقق من إعدادات Firebase وحالة الاتصال بالإنترنت',
                    network: 'تحقق من اتصال الإنترنت وحالة الخادم',
                    resource: 'تحقق من وجود الملف وصحة المسار',
                    javascript: 'راجع الكود وتحقق من المتغيرات المطلوبة'
                };

                return solutions[this.categorizeError(errorInfo)] || 'راجع التفاصيل وتحقق من السجلات';
            }

            attemptAutoRecovery(errorInfo) {
                const severity = this.categorizeError(errorInfo);

                switch(severity) {
                    case 'firebase':
                        // محاولة إعادة تهيئة Firebase
                        setTimeout(() => {
                            if (typeof initializeFirebase === 'function') {
                                this.log('info', '🔄 محاولة إعادة تهيئة Firebase...');
                                initializeFirebase();
                            }
                        }, 2000);
                        break;

                    case 'network':
                        // محاولة إعادة الاتصال
                        setTimeout(() => {
                            this.log('info', '🌐 محاولة إعادة الاتصال...');
                            if (navigator.onLine) {
                                location.reload();
                            }
                        }, 5000);
                        break;

                    case 'resource':
                        // إعادة تحميل الموارد المفقودة
                        setTimeout(() => {
                            this.log('info', '📦 محاولة إعادة تحميل الموارد...');
                            this.reloadCriticalResources();
                        }, 1000);
                        break;
                }
            }

            reloadCriticalResources() {
                // إعادة تحميل CSS إذا لم يتم تحميله
                if (!document.querySelector('style')) {
                    const style = document.createElement('style');
                    style.textContent = document.querySelector('style').textContent;
                    document.head.appendChild(style);
                }

                // إعادة تحميل Font Awesome إذا لم يتم تحميله
                if (!document.querySelector('link[href*="font-awesome"]')) {
                    const link = document.createElement('link');
                    link.rel = 'stylesheet';
                    link.href = 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css';
                    document.head.appendChild(link);
                }
            }

            formatErrorMessage(errorInfo) {
                return `
🚨 خطأ ${errorInfo.severity.toUpperCase()}: ${errorInfo.type}
📝 الرسالة: ${errorInfo.message}
📍 الموقع: ${errorInfo.filename || 'غير محدد'}:${errorInfo.lineno || '?'}:${errorInfo.colno || '?'}
🕒 الوقت: ${new Date(errorInfo.timestamp).toLocaleString('ar-AE')}
💡 الحل المقترح: ${errorInfo.solution}
🆔 معرف الخطأ: ${errorInfo.id}
                `.trim();
            }

            generateErrorId() {
                return 'ERR_' + Date.now() + '_' + Math.random().toString(36).substr(2, 6).toUpperCase();
            }

            log(level, message, data = null) {
                const logEntry = {
                    level,
                    message,
                    data,
                    timestamp: new Date().toISOString(),
                    id: this.generateErrorId()
                };

                this.logs.push(logEntry);

                if (this.logs.length > this.maxLogs) {
                    this.logs.shift();
                }

                this.logToConsole(level, message, data);

                // تسجيل في console المتصفح مع تنسيق جميل
                const styles = {
                    error: 'color: #ff6b6b; font-weight: bold;',
                    warn: 'color: #ffb74d; font-weight: bold;',
                    info: 'color: #4fc3f7;',
                    debug: 'color: #81c784;'
                };

                console.log(`%c[SocialHub Pro] ${level.toUpperCase()}: ${message}`, styles[level] || '');
                if (data) console.log(data);
            }

            logToConsole(level, message, data = null) {
                if (!this.consoleElement) return;

                const logDiv = document.createElement('div');
                logDiv.className = `console-log ${level}`;

                const timestamp = new Date().toLocaleTimeString('ar-AE');
                logDiv.innerHTML = `
                    <strong>[${timestamp}] ${level.toUpperCase()}:</strong> ${message}
                    ${data ? `<br><small>${JSON.stringify(data, null, 2)}</small>` : ''}
                `;

                this.consoleElement.appendChild(logDiv);
                this.consoleElement.scrollTop = this.consoleElement.scrollHeight;
            }

            reportError(errorInfo) {
                // إرسال إلى خدمة المراقبة (Firebase أو خدمة أخرى)
                if (typeof firebase !== 'undefined' && firebase.firestore) {
                    try {
                        firebase.firestore().collection('error_logs').add({
                            type: errorInfo.type,
                            message: errorInfo.message,
                            filename: errorInfo.filename,
                            lineno: errorInfo.lineno,
                            colno: errorInfo.colno,
                            stack: errorInfo.stack,
                            timestamp: errorInfo.timestamp,
                            severity: errorInfo.severity,
                            solution: errorInfo.solution,
                            userId: window.SocialHubPro?.Auth?.currentUser?.uid || 'anonymous',
                            version: '12.0',
                            resolved: false
                        });
                    } catch (e) {
                        console.error('فشل في إرسال تقرير الخطأ:', e);
                    }
                }
            }

            clearLogs() {
                this.logs = [];
                if (this.consoleElement) {
                    this.consoleElement.innerHTML = '';
                }
            }

            exportLogs() {
                const blob = new Blob([JSON.stringify(this.logs, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `socialhub-logs-${new Date().toISOString()}.json`;
                a.click();
                URL.revokeObjectURL(url);
            }
        }

        // معالج الأخطاء المحسن
        class EnhancedErrorHandler {
            constructor() {
                this.logger = new EnhancedLogger();
                this.initialized = false;
                this.errorCount = 0;
                this.maxErrorsBeforeReload = 10;
            }

            initialize() {
                if (this.initialized) return;

                // معالجة أخطاء Firebase
                this.handleFirebaseErrors();

                // معالجة أخطاء الشبكة
                this.handleNetworkErrors();

                // معالجة أخطاء الذاكرة
                this.handleMemoryErrors();

                this.initialized = true;
                this.logger.log('info', '🛡️ معالج الأخطاء المحسن بدأ العمل');
            }

            handleFirebaseErrors() {
                // معالجة أخطاء Firebase بشكل خاص
                const originalFirebaseError = console.error;
                console.error = (...args) => {
                    if (args[0]?.includes?.('Firebase') || args[0]?.includes?.('firebase')) {
                        this.logger.handleError({
                            type: 'Firebase Error',
                            message: args.join(' '),
                            stack: new Error().stack,
                            timestamp: new Date().toISOString()
                        });
                    }
                    originalFirebaseError.apply(console, args);
                };
            }

            handleNetworkErrors() {
                // مراقبة حالة الاتصال
                window.addEventListener('online', () => {
                    this.logger.log('info', '🌐 تم استعادة الاتصال بالإنترنت');
                    this.hideOfflineIndicator();
                });

                window.addEventListener('offline', () => {
                    this.logger.log('warn', '🌐 فقدان الاتصال بالإنترنت');
                    this.showOfflineIndicator();
                });

                // مراقبة طلبات fetch
                const originalFetch = window.fetch;
                window.fetch = async (...args) => {
                    try {
                        const response = await originalFetch(...args);
                        if (!response.ok) {
                            throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                        }
                        return response;
                    } catch (error) {
                        this.logger.handleError({
                            type: 'Fetch Error',
                            message: error.message,
                            url: args[0],
                            timestamp: new Date().toISOString()
                        });
                        throw error;
                    }
                };
            }

            handleMemoryErrors() {
                // مراقبة استخدام الذاكرة
                if (performance.memory) {
                    setInterval(() => {
                        const usedMB = performance.memory.usedJSHeapSize / 1048576;
                        const limitMB = performance.memory.jsHeapSizeLimit / 1048576;

                        if (usedMB > limitMB * 0.9) {
                            this.logger.handleError({
                                type: 'Memory Warning',
                                message: `استخدام الذاكرة مرتفع: ${usedMB.toFixed(2)}MB / ${limitMB.toFixed(2)}MB`,
                                timestamp: new Date().toISOString()
                            });

                            // محاولة تحرير الذاكرة
                            this.freeUpMemory();
                        }
                    }, 10000);
                }
            }

            freeUpMemory() {
                // تحرير ذاكرة التخزين المؤقت
                if (window.SocialHubPro?.Cache) {
                    window.SocialHubPro.Cache.clearOldItems();
                }

                // تشغيل garbage collection يدويًا (إذا كان مدعومًا)
                if (window.gc) {
                    window.gc();
                }
            }

            showOfflineIndicator() {
                const indicator = document.getElementById('offlineIndicator');
                if (indicator) {
                    indicator.style.display = 'flex';
                }
            }

            hideOfflineIndicator() {
                const indicator = document.getElementById('offlineIndicator');
                if (indicator) {
                    indicator.style.display = 'none';
                }
            }

            handle(error, context = {}) {
                this.errorCount++;

                const errorInfo = {
                    type: error.name || 'Unknown Error',
                    message: error.message,
                    stack: error.stack,
                    context,
                    timestamp: new Date().toISOString()
                };

                this.logger.handleError(errorInfo);

                // إذا تجاوزت الأخطاء الحد المسموح، إعادة تحميل الصفحة
                if (this.errorCount >= this.maxErrorsBeforeReload) {
                    this.logger.log('error', '🔄 عدد الأخطاء تجاوز الحد المسموح، إعادة تحميل الصفحة...');
                    setTimeout(() => {
                        location.reload();
                    }, 3000);
                }
            }

            showErrorOverlay(message) {
                const overlay = document.getElementById('errorOverlay');
                const messageElement = document.getElementById('errorMessage');
                
                if (overlay && messageElement) {
                    messageElement.textContent = message;
                    overlay.style.display = 'flex';
                }
            }

            hideErrorOverlay() {
                const overlay = document.getElementById('errorOverlay');
                if (overlay) {
                    overlay.style.display = 'none';
                }
            }
        }

        // تهيئة النظام
        function initializeEnhancedSystem() {
            // تهيئة معالج الأخطاء
            window.SocialHubPro = window.SocialHubPro || {};
            window.SocialHubPro.ErrorHandler = new EnhancedErrorHandler();
            window.SocialHubPro.ErrorHandler.initialize();

            // تهيئة التسجيل
            window.SocialHubPro.Logger = window.SocialHubPro.ErrorHandler.logger;

            // تهيئة Firebase
            initializeFirebase();

            // تهيئة واجهة المستخدم
            initializeUI();

            // تهيئة نظام المصادقة
            initializeAuth();

            // بدء مراقبة الأداء
            startPerformanceMonitoring();

            window.SocialHubPro.Logger.log('info', '🚀 SocialHub Pro v12.0 - النظام المحسن بدأ العمل');
        }

        // تهيئة Firebase
        function initializeFirebase() {
            try {
                const firebaseConfig = {
                    apiKey: "AIzaSyBKD3QIxJdHw__UG2TEqf0TqyYCnw8wJf8",
                    authDomain: "socialhub-1370d.firebaseapp.com",
                    projectId: "socialhub-1370d",
                    storageBucket: "socialhub-1370d.appspot.com",
                    messagingSenderId: "84815590328",
                    appId: "1:84815590328:web:2f12340380b37c2562d54d"
                };

                // تهيئة Firebase
                firebase.initializeApp(firebaseConfig);
                
                window.SocialHubPro.Logger.log('info', '🔥 Firebase initialized successfully');
            } catch (error) {
                window.SocialHubPro.ErrorHandler.handle(error, { context: 'Firebase Initialization' });
            }
        }

        // تهيئة واجهة المستخدم
        function initializeUI() {
            try {
                // تهيئة شاشة التحميل
                setTimeout(() => {
                    const loadingScreen = document.getElementById('loadingScreen');
                    if (loadingScreen) {
                        loadingScreen.classList.add('hidden');
                    }
                }, 2000);

                // تهيئة التنقل
                initializeNavigation();

                // تهيئة الأزرار
                initializeButtons();

                // تهيئة النماذج
                initializeForms();

                window.SocialHubPro.Logger.log('info', '🎨 واجهة المستخدم مهيأة بنجاح');
            } catch (error) {
                window.SocialHubPro.ErrorHandler.handle(error, { context: 'UI Initialization' });
            }
        }

        // تهيئة التنقل
        function initializeNavigation() {
            const navButtons = document.querySelectorAll('.nav-link');
            navButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const pageId = button.getAttribute('data-page');
                    showPage(pageId);
                });
            });
        }

        // تهيئة الأزرار
        function initializeButtons() {
            // زر تبديل الشريط الجانبي
            const sidebarToggle = document.getElementById('sidebarToggle');
            const mobileSidebarToggle = document.getElementById('mobileSidebarToggle');
            const sidebar = document.getElementById('sidebar');

            if (sidebarToggle && sidebar) {
                sidebarToggle.addEventListener('click', () => {
                    sidebar.classList.toggle('open');
                });
            }

            if (mobileSidebarToggle && sidebar) {
                mobileSidebarToggle.addEventListener('click', () => {
                    sidebar.classList.toggle('open');
                });
            }
        }

        // تهيئة النماذج
        function initializeForms() {
            // نموذج رفع الملف
            const fileInput = document.getElementById('bulkImportFile');
            const fileDropZone = document.getElementById('fileDropZone');
            const fileSelectBtn = document.getElementById('fileSelectBtn');
            
            if (fileInput && fileDropZone) {
                 fileDropZone.addEventListener('click', () => fileInput.click());
                 fileSelectBtn.addEventListener('click', () => fileInput.click());
                 fileInput.addEventListener('change', handleFileSelect);
            }
        }

        // تهيئة المصادقة
        function initializeAuth() {
            try {
                const auth = firebase.auth();
                
                // مراقبة حالة المصادقة
                auth.onAuthStateChanged((user) => {
                    if (user) {
                        // المستخدم مسجل الدخول
                        handleUserSignedIn(user);
                    } else {
                        // لا يوجد مستخدم مسجل
                        handleUserSignedOut();
                    }
                });

                // معالج تسجيل الدخول بـ Google
                const googleSignInButton = document.getElementById('signInGoogle');
                if (googleSignInButton) {
                    googleSignInButton.addEventListener('click', signInWithGoogle);
                }

                window.SocialHubPro.Logger.log('info', '🔐 نظام المصادقة مهيأ بنجاح');
            } catch (error) {
                window.SocialHubPro.ErrorHandler.handle(error, { context: 'Auth Initialization' });
            }
        }

        // تسجيل الدخول بـ Google
        function signInWithGoogle() {
            try {
                const provider = new firebase.auth.GoogleAuthProvider();
                firebase.auth().signInWithPopup(provider)
                    .then((result) => {
                        window.SocialHubPro.Logger.log('info', '✅ تسجيل الدخول بنجاح');
                    })
                    .catch((error) => {
                        window.SocialHubPro.ErrorHandler.handle(error, { context: 'Google Sign In' });
                    });
            } catch (error) {
                window.SocialHubPro.ErrorHandler.handle(error, { context: 'Google Sign In' });
            }
        }

        // معالج تسجيل الدخول
		function handleUserSignedIn(user) {
			try {
				document.getElementById('authScreen').classList.remove('active');
				document.getElementById('mainApp').classList.remove('hidden');
		
				const loading = document.getElementById('loadingScreen');
				if (loading) {
					loading.classList.add('hidden');
					setTimeout(() => {
						loading.style.display = 'none';
					}, 300);
				}

				updateUserProfile(user);

				// <<<=== START: CODE FIX ===>>>
				// This is the crucial line that re-initializes all button events after login.
				initializeDynamicContent();
				// <<<=== END: CODE FIX ===>>>
		
				window.SocialHubPro.Logger.log('info', `👤 المستخدم ${user.email} سجل الدخول بنجاح`);
			} catch (error) {
				window.SocialHubPro.ErrorHandler.handle(error, { context: 'User Signed In' });
			}
		}

        // معالج تسجيل الخروج
        function handleUserSignedOut() {
            try {
                document.getElementById('authScreen').classList.add('active');
                document.getElementById('mainApp').classList.add('hidden');

                window.SocialHubPro.Logger.log('info', '👤 المستخدم سجل الخروج');
            } catch (error) {
                window.SocialHubPro.ErrorHandler.handle(error, { context: 'User Signed Out' });
            }
        }

        // تهيئة المحتوى الديناميكي بعد تسجيل الدخول
       function initializeDynamicContent() {
         try {
			// إعادة ربط أحداث التنقل
			initializeNavigation();
			
			// إعادة ربط أحداث الأزرار
			initializeButtons();
			
			// إعادة ربط أحداث النماذج
			initializeForms();
			
			// تحديث الإحصائيات والبيانات
			// updateDashboardData(); // You can uncomment this if you have this function
			
			window.SocialHubPro.Logger.log('info', '🔄 المحتوى الديناميكي مهيأ بنجاح');
		} catch (error) {
			window.SocialHubPro.ErrorHandler.handle(error, { context: 'Dynamic Content Initialization' });
		}
	}


        // تحديث الملف الشخصي
        function updateUserProfile(user) {
            try {
                const userNameElement = document.getElementById('userName');
                const userEmailElement = document.getElementById('userEmail');
                const userAvatarElement = document.getElementById('userAvatar');

                if (userNameElement) userNameElement.textContent = user.displayName || 'مستخدم';
                if (userEmailElement) userEmailElement.textContent = user.email;
                if (userAvatarElement && user.photoURL) {
                    userAvatarElement.src = user.photoURL;
                }
            } catch (error) {
                window.SocialHubPro.ErrorHandler.handle(error, { context: 'Update User Profile' });
            }
        }

        // عرض الصفحة
        function showPage(pageId) {
            try {
                // إخفاء جميع الصفحات
                const pages = document.querySelectorAll('.page-content');
                pages.forEach(page => page.classList.remove('active'));

                // إلغاء تنشيط جميع أزرار التنقل
                const navButtons = document.querySelectorAll('.nav-link');
                navButtons.forEach(button => button.classList.remove('active'));

                // عرض الصفحة المطلوبة
                const targetPage = document.getElementById(`page-${pageId}`);
                if (targetPage) {
                    targetPage.classList.add('active');
                }

                // تنشيط زر التنقل
                const targetNavButton = document.querySelector(`[data-page="${pageId}"]`);
                if (targetNavButton) {
                    targetNavButton.classList.add('active');
                }

                // تحديث عنوان الموبايل
                const mobileTitle = document.getElementById('mobilePageTitle');
                if (mobileTitle && targetPage) {
                    const pageTitle = targetPage.querySelector('.page-title');
                    if (pageTitle) {
                        mobileTitle.textContent = pageTitle.textContent;
                    }
                }

                window.SocialHubPro.Logger.log('info', `📄 تم التبديل إلى صفحة: ${pageId}`);
            } catch (error) {
                window.SocialHubPro.ErrorHandler.handle(error, { context: 'Show Page' });
            }
        }

        // معالج اختيار الملف
        function handleFileSelect(event) {
            try {
                const file = event.target.files[0];
                if (!file) return;

                // التحقق من نوع الملف
                if (!file.name.endsWith('.csv') && !file.name.endsWith('.json')) {
                    showToast('يرجى اختيار ملف CSV أو JSON فقط', 'error');
                    return;
                }

                // التحقق من حجم الملف
                if (file.size > 50 * 1024 * 1024) { // 50MB
                    showToast('حجم الملف يجب أن يكون أقل من 50 ميجابايت', 'error');
                    return;
                }

                // عرض معلومات الملف
                displayFileInfo(file);

                window.SocialHubPro.Logger.log('info', `📁 تم اختيار الملف: ${file.name} (${formatFileSize(file.size)})`);
            } catch (error) {
                window.SocialHubPro.ErrorHandler.handle(error, { context: 'File Selection' });
            }
        }

        // عرض معلومات الملف
        function displayFileInfo(file) {
            try {
                const fileInfoDiv = document.getElementById('fileInfo');
                const uploadActionsDiv = document.getElementById('uploadActions');

                if (fileInfoDiv && uploadActionsDiv) {
                    const fileType = file.name.endsWith('.csv') ? 'CSV' : 'JSON';
                    const fileIcon = fileType === 'CSV' ? 'csv' : 'json';

                    fileInfoDiv.innerHTML = `
                        <div class="file-info-card">
                            <div class="file-icon ${fileIcon}">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                    <polyline points="14,2 14,8 20,8"></polyline>
                                </svg>
                            </div>
                            <div class="file-details">
                                <div class="file-name">${file.name}</div>
                                <div class="file-meta">
                                    <span class="file-type">${fileType}</span>
                                    <span class="file-size">${formatFileSize(file.size)}</span>
                                </div>
                            </div>
                            <div class="file-actions">
                                <button class="clear-file-btn" onclick="clearSelectedFile()">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <line x1="18" y1="6" x2="6" y2="18"></line>
                                        <line x1="6" y1="6" x2="18" y2="18"></line>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    `;

                    fileInfoDiv.style.display = 'block';
                    uploadActionsDiv.style.display = 'flex';
                    document.getElementById('uploadBulkFile').disabled = false;
                }
            } catch (error) {
                window.SocialHubPro.ErrorHandler.handle(error, { context: 'Display File Info' });
            }
        }

        // تنسيق حجم الملف
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        // مسح الملف المختار
        function clearSelectedFile() {
            try {
                const fileInput = document.getElementById('bulkImportFile');
                const fileInfoDiv = document.getElementById('fileInfo');
                const uploadActionsDiv = document.getElementById('uploadActions');

                if (fileInput) fileInput.value = '';
                if (fileInfoDiv) fileInfoDiv.style.display = 'none';
                if (uploadActionsDiv) uploadActionsDiv.style.display = 'none';

                window.SocialHubPro.Logger.log('info', '🗑️ تم مسح الملف المختار');
            } catch (error) {
                window.SocialHubPro.ErrorHandler.handle(error, { context: 'Clear File' });
            }
        }

        // عرض الإشعارات
        function showToast(message, type = 'info') {
            try {
                const toastContainer = document.getElementById('toastContainer');
                if (!toastContainer) return;

                const toast = document.createElement('div');
                toast.className = `toast toast-${type}`;
                toast.setAttribute('role', 'alert');
                toast.setAttribute('aria-live', 'assertive');

                const icons = {
                    success: '✅',
                    error: '❌',
                    warning: '⚠️',
                    info: 'ℹ️'
                };

                toast.innerHTML = `
                    <div class="toast-content">
                        <span class="toast-icon">${icons[type] || icons.info}</span>
                        <span class="toast-message">${message}</span>
                        <button class="toast-close" onclick="this.parentElement.parentElement.remove()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="18" y1="6" x2="6" y2="18"></line>
                                <line x1="6" y1="6" x2="18" y2="18"></line>
                            </svg>
                        </button>
                    </div>
                `;

                toastContainer.appendChild(toast);

                // إظهار Toast
                setTimeout(() => toast.classList.add('show'), 100);

                // إخفاء Toast تلقائيًا بعد 5 ثوانٍ
                setTimeout(() => {
                    if (toast.parentElement) {
                        toast.classList.remove('show');
                        setTimeout(() => toast.remove(), 300);
                    }
                }, 5000);

                window.SocialHubPro.Logger.log('info', `📢 Toast: ${message}`, { type });
            } catch (error) {
                window.SocialHubPro.ErrorHandler.handle(error, { context: 'Show Toast' });
            }
        }

        // بدء مراقبة الأداء
        function startPerformanceMonitoring() {
            try {
                // مراقبة استخدام الذاكرة
                if (performance.memory) {
                    setInterval(() => {
                        const memoryUsage = (performance.memory.usedJSHeapSize / 1048576).toFixed(2);
                        const memoryLimit = (performance.memory.jsHeapSizeLimit / 1048576).toFixed(2);
                        
                        if (memoryUsage > memoryLimit * 0.8) {
                            window.SocialHubPro.Logger.log('warn', `⚠️ استخدام الذاكرة مرتفع: ${memoryUsage}MB / ${memoryLimit}MB`);
                        }
                    }, 10000);
                }
                window.SocialHubPro.Logger.log('info', '📊 بدء مراقبة الأداء');
            } catch (error) {
                window.SocialHubPro.ErrorHandler.handle(error, { context: 'Performance Monitoring' });
            }
        }

        // وظائف المساعدة لوحدة التحكم
        function toggleConsole() {
            const consolePanel = document.getElementById('consolePanel');
            if (consolePanel) {
                consolePanel.classList.toggle('active');
            }
        }

        function hideErrorOverlay() {
            const overlay = document.getElementById('errorOverlay');
            if (overlay) {
                overlay.style.display = 'none';
            }
        }

        function togglePerformanceStats() {
            const stats = document.getElementById('performanceStats');
            if (stats) {
                stats.classList.toggle('show');
            }
        }

        // بدء التطبيق عند تحميل الصفحة
        document.addEventListener('DOMContentLoaded', function() {
            try {
                initializeEnhancedSystem();
                
                // إظهار رسالة ترحيب
                setTimeout(() => {
                    showToast('مرحباً بك في SocialHub Pro - الإصدار المحسن!', 'info');
                }, 3000);

            } catch (error) {
                console.error('فشل تهيئة التطبيق:', error);
                document.getElementById('errorOverlay').style.display = 'flex';
            }
        });

        // جعل الوظائف متاحة عالميًا
        window.toggleConsole = toggleConsole;
        window.hideErrorOverlay = hideErrorOverlay;
        window.clearSelectedFile = clearSelectedFile;
        window.togglePerformanceStats = togglePerformanceStats;

    </script>
</body>
</html>
